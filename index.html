<!DOCTYPE html>
<html lang="en" class="scroll-smooth overflow-x-hidden">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NIAT Computer Academy</title>

    <!-- Tailwind CSS (with Dark Mode Config) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        slate: {
                            850: '#1e293b',
                            900: '#0f172a',
                            950: '#020617',
                        }
                    }
                }
            }
        }
    </script>
    <script>
        // Check local storage or system preference immediately
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .animate-bounce-slow {
            animation: bounce 3s infinite;
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(-5%);
            }

            50% {
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.3s ease-out forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Carousel Styles */
        .carousel-track {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .carousel-track::-webkit-scrollbar {
            display: none;
        }

        .dot {
            transition: all 0.3s ease;
        }

        .dot.active {
            width: 24px;
            background-color: #2563eb;
            /* blue-600 */
        }

        /* Hidden Dots Logic */
        #carouselDots {
            transition: opacity 0.5s ease-in-out;
            opacity: 0;
        }

        #carouselDots.visible {
            opacity: 1;
        }

        /* States */
        #states {
            margin-top: 50px;
        }

        /* Scroll to Top Button */
        #scrollTopBtn {
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease-in-out;
        }

        #scrollTopBtn.show {
            opacity: 1;
            visibility: visible;
        }

        /* Toggle Switch */
        .toggle-checkbox:checked {
            right: 0;
            border-color: #2563eb;
        }

        .toggle-checkbox:checked+.toggle-label {
            background-color: #2563eb;
        }

        /* --- UNIFIED SEARCH OVERLAY (FADE & POP ANIMATION) --- */
        #search-overlay {
            position: fixed;
            inset: 0;
            z-index: 300;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding-top: 15vh;

            /* Default: Hidden */
            opacity: 0;
            visibility: hidden;

            /* Smooth Fade for background */
            /* Delay visibility hide until opacity is done (0.3s) */
            transition: opacity 0.3s ease, visibility 0s linear 0.3s;
        }

        .dark #search-overlay {
            background: rgba(15, 23, 42, 0.6);
        }

        #search-overlay.active {
            opacity: 1;
            visibility: visible;
            /* Instant visibility on open */
            transition: opacity 0.3s ease, visibility 0s linear 0s;
        }

        /* The Search Box Container */
        .search-box-wrapper {
            /* Fixed Size - No shrinking width anymore */
            width: 90%;
            max-width: 600px;
            background: white;
            border-radius: 99px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            display: flex;
            align-items: center;
            overflow: hidden;

            /* Start State: Slightly smaller, moved up, and invisible */
            transform: scale(0.95) translateY(-10px);
            opacity: 0;

            /* Smooth Pop Animation with a slight bounce */
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .dark .search-box-wrapper {
            background: #1e293b;
            border: 1px solid #334155;
        }

        /* Active State: Normal Size, Position, and Visible */
        #search-overlay.active .search-box-wrapper {
            transform: scale(1) translateY(0);
            opacity: 1;
        }

        /* Notification Popup */
        #notification-popup {
            position: absolute;
            top: 70px;
            right: 20px;
            width: 300px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
            z-index: 100;
            padding: 1rem;
            border: 1px solid #e2e8f0;
            display: none;
        }

        .dark #notification-popup {
            background: #1e293b;
            border-color: #334155;
            color: white;
        }

        #notification-popup.active {
            display: block;
            animation: fadeIn 0.2s ease-out;
        }

        /* --- MOBILE MENU OVERLAY (Slide & Blur) --- */
        #mainMenu {
            position: fixed;
            top: 56px;
            /* Below Navbar */
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 40;

            /* Start: Transparent & No Blur */
            background: rgba(0, 0, 0, 0);
            backdrop-filter: blur(0px);
            -webkit-backdrop-filter: blur(0px);

            /* Hidden State */
            opacity: 0;
            visibility: hidden;

            /* Animate Opacity and Blur */
            transition:
                opacity 0.4s ease,
                backdrop-filter 0.4s ease,
                visibility 0s linear 0.4s;
            /* Delay hiding until fade finishes */
        }

        #mainMenu.active {
            /* End: Dark & Blurry */
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(8px);
            /* The Blurry Animation */
            -webkit-backdrop-filter: blur(8px);

            /* Visible State */
            opacity: 1;
            visibility: visible;

            /* Instant visibility on open */
            transition:
                opacity 0.4s ease,
                backdrop-filter 0.4s ease,
                visibility 0s linear 0s;
        }

        /* The Menu Box (White part) */
        .menu-content {
            background: white;
            width: 100%;
            border-bottom: 1px solid #e2e8f0;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);

            /* Start: Slide Up slightly */
            transform: translateY(-20px);
            transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);

            max-height: 80vh;
            overflow-y: auto;
        }

        .dark .menu-content {
            background: #0f172a;
            border-color: #1e293b;
        }

        /* End: Slide Down */
        #mainMenu.active .menu-content {
            transform: translateY(0);
        }

        /* --- ACTIVE LINK HIGHLIGHT --- */
        .nav-link.active-section {
            color: #2563eb;
            /* Blue-600 */
            font-weight: 700;
            padding-left: 0.5rem;
            /* Slight indentation */
            border-left: 3px solid #2563eb;
            /* Blue border indicator */
        }

        .dark .nav-link.active-section {
            color: #60a5fa;
            /* Blue-400 (Lighter for Dark Mode) */
            border-left-color: #60a5fa;
        }

        /* --- CATEGORY FILTERS & ANIMATIONS --- */
        .filter-btn {
            padding: 0.5rem 1.5rem;
            border-radius: 99px;
            font-size: 0.875rem;
            font-weight: 600;
            border: 1px solid #e2e8f0;
            color: #64748b;
            background: white;
            transition: all 0.3s;
            cursor: pointer;
        }

        .dark .filter-btn {
            background: #1e293b;
            border-color: #334155;
            color: #94a3b8;
        }

        .filter-btn:hover {
            border-color: #2563eb;
            color: #2563eb;
        }

        .dark .filter-btn:hover {
            border-color: #60a5fa;
            color: #60a5fa;
        }

        .filter-btn.active {
            background: #2563eb;
            color: white;
            border-color: #2563eb;
            box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.3);
        }

        .dark .filter-btn.active {
            background: #3b82f6;
            border-color: #3b82f6;
            color: white;
        }

        /* Staggered Animation Entry */
        .fade-in-up {
            opacity: 0;
            animation: fadeInUp 0.5s ease-out forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* --- CARD SHAKE ANIMATION --- */
        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-4px);
            }

            75% {
                transform: translateX(4px);
            }
        }

        .hover-shake:hover {
            animation: shake 0.4s ease-in-out;
            cursor: pointer;
        }
    </style>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
</head>

<body
    class="bg-slate-50 text-slate-800 dark:bg-slate-950 dark:text-slate-100 transition-colors duration-300 overflow-x-hidden">

    <div id="toast-container"
        class="fixed top-20 left-1/2 transform -translate-x-1/2 z-[9999] flex flex-col gap-3 pointer-events-none w-full max-w-sm px-4">
    </div>

    <!-- Navigation -->
    <nav
        class="fixed top-0 left-0 w-full z-50 bg-white/90 dark:bg-slate-900/90 backdrop-blur-md border-b border-slate-100 dark:border-slate-800 shadow-sm transition-colors duration-300">
        <div class="w-full max-w-screen-2xl lg:max-w-full mx-auto px-0 sm:px-6 lg:px-4">
            <div class="flex justify-between items-center h-14 px-1.5 lg:px-0">
                <!-- <div class="flex justify-between items-center h-20"> -->
                <!-- LEFT SIDE: Menu + Logo -->
                <div class="flex items-center gap-1.5">
                    <!-- Menu Trigger -->
                    <button onclick="toggleMenu()"
                        class="text-slate-600 dark:text-slate-300 hover:text-blue-600 p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors">
                        <i data-lucide="menu" class="w-5 h-5"></i>
                    </button>
                    <!-- 1. Logo -->
                    <div class="flex items-center cursor-pointer gap-2" onclick="scrollToSection('home')">
                        <img src="logoInstitute.jpeg" alt="NIAT Logo"
                            class="w-10 h-10 object-contain rounded-md shadow-sm">
                        <div>
                            <h1 class="w-10 h-5 text-1xl font-bold text-slate-900 dark:text-white tracking-tight">NIAT
                            </h1>
                            <p class="text-xs text-slate-500 dark:text-slate-400 font-medium tracking-wide">COMPUTER
                                ACADEMY</p>
                        </div>
                    </div>
                </div>

                <!-- Right Side: Auth Buttons + Menu Trigger
                <div class="flex items-center gap-3">
                    <button onclick="openModal('signupModal')" class="bg-blue-600 hover:bg-blue-700 text-white text-xs sm:text-sm font-bold px-4 py-2 sm:px-5 sm:py-2.5 rounded-xl shadow-lg hover:shadow-blue-500/30 transition-all transform hover:-translate-y-0.5 whitespace-nowrap">
                        Sign Up
                    </button>
                    <button onclick="openModal('loginModal')" class="text-xs sm:text-sm font-bold text-slate-700 dark:text-slate-200 border border-slate-300 dark:border-slate-600 hover:border-blue-600 hover:text-blue-600 dark:hover:text-blue-400 px-4 py-2 sm:px-5 sm:py-2.5 rounded-xl transition-all whitespace-nowrap">
                        Login
                    </button>
                    <button onclick="toggleMenu()" class="ml-2 text-slate-600 dark:text-slate-300 hover:text-blue-600 p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors">
                        <i data-lucide="menu" class="w-7 h-7"></i>
                    </button>
                </div> -->

                <!-- RIGHT SIDE: Search + Auth/Profile -->
                <div class="flex items-center gap-2 sm:gap-4">

                    <!-- Search Bar -->
                    <!-- <div class="search-container" id="searchBar">
                        <input type="text" id="searchInput" class="search-input bg-slate-100 dark:bg-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Search courses...">
                        
                        <button onclick="toggleSearch()" class="relative z-20 p-2 text-slate-600 dark:text-slate-300 hover:text-blue-600 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors">
                            <i data-lucide="search" class="w-6 h-6"></i>
                        </button>
                    </div> -->
                    <button onclick="toggleSearch()"
                        class="p-2 text-slate-600 dark:text-slate-300 hover:text-blue-600 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors">
                        <i data-lucide="search" class="w-5 h-5"></i>
                    </button>

                    <!-- Logged Out View -->
                    <div id="auth-buttons" class="hidden md:flex items-center gap-3">
                        <button onclick="openModal('signupModal')"
                            class="bg-blue-600 hover:bg-blue-700 text-white text-xs sm:text-sm font-bold px-4 py-2 sm:px-5 sm:py-2.5 rounded-xl shadow-lg hover:shadow-blue-500/30 transition-all transform hover:-translate-y-0.5 whitespace-nowrap">
                            Sign Up
                        </button>
                        <button onclick="openModal('loginModal')"
                            class="text-xs sm:text-sm font-bold text-slate-700 dark:text-slate-200 border border-slate-300 dark:border-slate-600 hover:border-blue-600 hover:text-blue-600 dark:hover:border-blue-400 dark:hover:text-blue-400 px-4 py-2 sm:px-5 sm:py-2.5 rounded-xl transition-all transform hover:-translate-y-0.5 whitespace-nowrap">
                            Login
                        </button>
                    </div>

                    <!-- Logged In View (Hidden by default) -->
                    <div id="user-controls" class="hidden flex items-center gap-3">
                        <!-- Notification -->
                        <div class="relative">
                            <button onclick="toggleNotification()"
                                class="p-2 text-slate-600 dark:text-slate-300 hover:text-blue-600 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors relative">
                                <i data-lucide="bell" class="w-6 h-6"></i>
                                <span
                                    class="absolute top-1 right-1 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white dark:border-slate-900"></span>
                            </button>
                            <!-- Notification Popup -->
                            <div id="notification-popup">
                                <h4 class="font-bold border-b border-slate-200 dark:border-slate-700 pb-2 mb-2">
                                    Notifications</h4>
                                <ul class="space-y-2 text-sm">
                                    <li class="p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
                                        <span class="font-semibold block text-blue-600">New Schedule</span>
                                        Tally Batch starts tomorrow at 10 AM.
                                    </li>
                                    <li class="p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg">
                                        <span class="font-semibold block">Exam Result</span>
                                        Basics of Computer marks published.
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <!-- Profile Button -->
                        <button onclick="openProfile()"
                            class="w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center text-blue-600 dark:text-blue-300 font-bold border-2 border-blue-200 dark:border-blue-800 overflow-hidden">
                            <img id="nav-avatar" src="https://ui-avatars.com/api/?name=User&background=random"
                                alt="User" class="w-full h-full object-cover">
                        </button>
                    </div>

                </div>

            </div>
        </div>
    </nav>

    <!-- THE MENU -->
    <!-- <div id="mainMenu"
            class="hidden absolute top-full left-0 w-full bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800 shadow-xl z-40 animate-in slide-in-from-top-2 duration-200">
            <div class="container mx-auto px-4 py-6"> -->
    <div id="mainMenu" onclick="toggleMenu()">
        <div class="menu-content" onclick="event.stopPropagation()">
            <div class="container lg:max-w-full mx-auto px-4 py-6 lg:px-6">
                <!-- <div class="w-full max-w-screen-2xl mx-auto px-2 sm:px-6 lg:px-12 py-6"> -->
                <div class="grid md:grid-cols-2 gap-8">
                    <!-- Links Column -->
                    <div class="space-y-4">
                        <h4 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2">Navigation</h4>
                        <!-- <button onclick="scrollToSection('home')"
                            class="block w-full text-left text-lg font-medium text-slate-700 dark:text-slate-200 hover:text-blue-600 dark:hover:text-blue-400 hover:pl-2 transition-all">Home</button>
                        <button onclick="scrollToSection('about')"
                            class="block w-full text-left text-lg font-medium text-slate-700 dark:text-slate-200 hover:text-blue-600 dark:hover:text-blue-400 hover:pl-2 transition-all">About
                            Us</button>
                        <button onclick="scrollToSection('courses')"
                            class="block w-full text-left text-lg font-medium text-slate-700 dark:text-slate-200 hover:text-blue-600 dark:hover:text-blue-400 hover:pl-2 transition-all">Courses</button>
                        <button onclick="scrollToSection('contact')"
                            class="block w-full text-left text-lg font-medium text-slate-700 dark:text-slate-200 hover:text-blue-600 dark:hover:text-blue-400 hover:pl-2 transition-all">Contact</button> -->
                        <button onclick="scrollToSection('home')" data-section="home"
                            class="nav-link block w-full text-left text-lg font-medium text-slate-700 dark:text-slate-200 hover:text-blue-600 dark:hover:text-blue-400 hover:pl-2 transition-all border-l-2 border-transparent">Home</button>
                        <button onclick="scrollToSection('about')" data-section="about"
                            class="nav-link block w-full text-left text-lg font-medium text-slate-700 dark:text-slate-200 hover:text-blue-600 dark:hover:text-blue-400 hover:pl-2 transition-all border-l-2 border-transparent">About
                            Us</button>
                        <button onclick="scrollToSection('courses')" data-section="courses"
                            class="nav-link block w-full text-left text-lg font-medium text-slate-700 dark:text-slate-200 hover:text-blue-600 dark:hover:text-blue-400 hover:pl-2 transition-all border-l-2 border-transparent">Courses</button>
                        <button onclick="scrollToSection('faculty')" data-section="faculty"
                            class="nav-link block w-full text-left text-lg font-medium text-slate-700 dark:text-slate-200 hover:text-blue-600 dark:hover:text-blue-400 hover:pl-2 transition-all border-l-2 border-transparent">Faculty</button>
                        <button onclick="scrollToSection('testimonials')" data-section="testimonials"
                            class="nav-link block w-full text-left text-lg font-medium text-slate-700 dark:text-slate-200 hover:text-blue-600 dark:hover:text-blue-400 hover:pl-2 transition-all border-l-2 border-transparent">Testimonials</button>
                        <button onclick="scrollToSection('contact')" data-section="contact"
                            class="nav-link block w-full text-left text-lg font-medium text-slate-700 dark:text-slate-200 hover:text-blue-600 dark:hover:text-blue-400 hover:pl-2 transition-all border-l-2 border-transparent">Contact</button>
                        <button onclick="scrollToSection('map')" data-section="map"
                            class="nav-link block w-full text-left text-lg font-medium text-slate-700 dark:text-slate-200 hover:text-blue-600 dark:hover:text-blue-400 hover:pl-2 transition-all border-l-2 border-transparent">Map</button>

                        <!-- <div class="pt-4 flex items-center gap-4">
                            <a href="#"
                                class="flex items-center gap-2 text-slate-500 dark:text-slate-400 hover:text-blue-600 transition-colors">
                                <i data-lucide="facebook" class="w-5 h-5"></i> <span class="text-sm">Facebook</span>
                            </a>
                            <a href="#"
                                class="flex items-center gap-2 text-slate-500 dark:text-slate-400 hover:text-pink-600 transition-colors">
                                <i data-lucide="instagram" class="w-5 h-5"></i> <span class="text-sm">Instagram</span>
                            </a>
                            <a href="#"
                                class="flex items-center gap-2 text-slate-500 dark:text-slate-400 hover:text-blue-700 transition-colors">
                                <i data-lucide="linkedin" class="w-5 h-5"></i> <span class="text-sm">LinkedIn</span>
                            </a>
                        </div> -->
                        <div class="pt-4 flex items-center gap-4">
                            <a href="#"
                                class="flex items-center gap-2 text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors">
                                <i data-lucide="facebook" class="w-5 h-5"></i> <span class="text-sm">Facebook</span>
                            </a>
                            <a href="#"
                                class="flex items-center gap-2 text-slate-500 dark:text-slate-400 hover:text-pink-600 dark:hover:text-pink-400 transition-colors">
                                <i data-lucide="instagram" class="w-5 h-5"></i> <span class="text-sm">Instagram</span>
                            </a>
                            <a href="#"
                                class="flex items-center gap-2 text-slate-500 dark:text-slate-400 hover:text-blue-700 dark:hover:text-blue-500 transition-colors">
                                <i data-lucide="linkedin" class="w-5 h-5"></i> <span class="text-sm">LinkedIn</span>
                            </a>
                        </div>

                        <!-- THEME SETTINGS TOGGLE -->
                        <div class="pt-4 border-t border-slate-100 dark:border-slate-800 mt-4">
                            <h4 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3">Appearance
                            </h4>
                            <div class="flex items-center justify-between">
                                <span
                                    class="text-sm font-medium text-slate-700 dark:text-slate-300 flex items-center gap-2">
                                    <i data-lucide="moon" class="w-4 h-4"></i> Dark Mode
                                </span>
                                <label for="theme-toggle" class="flex items-center cursor-pointer relative">
                                    <input type="checkbox" id="theme-toggle" class="sr-only" onchange="toggleTheme()">
                                    <div
                                        class="w-11 h-6 bg-slate-200 dark:bg-slate-700 rounded-full border border-slate-300 dark:border-slate-600 toggle-label transition-colors">
                                    </div>
                                    <div
                                        class="dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform transform translate-x-0 dark:translate-x-5">
                                    </div>
                                </label>
                            </div>
                        </div>

                        <!-- LOGOUT IN MENU (Only if logged in) -->
                        <button id="menu-logout-btn" onclick="handleLogout()"
                            class="hidden w-full text-left text-lg font-medium text-red-600 hover:text-red-700 hover:pl-2 transition-all flex items-center gap-2">
                            <i data-lucide="log-out" class="w-5 h-5"></i> Logout
                        </button>

                    </div>

                    <!-- Action Buttons Column -->
                    <div class="space-y-4">
                        <h4 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2">Student Actions
                        </h4>

                        <div id="mobile-auth-buttons"
                            class="md:hidden grid grid-cols-2 gap-4 mb-6 border-b border-slate-100 dark:border-slate-800 pb-6">
                            <button onclick="openModal('signupModal'); toggleMenu()"
                                class="w-full bg-blue-600 text-white font-bold py-3 rounded-xl shadow-md">
                                Sign Up
                            </button>
                            <button onclick="openModal('loginModal'); toggleMenu()"
                                class="w-full border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-200 font-bold py-3 rounded-xl">
                                Login
                            </button>
                        </div>

                        <button onclick="handleExamApplication(); toggleMenu()"
                            class="w-full flex items-center justify-center gap-3 px-5 py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-md transition-all font-bold">
                            <i data-lucide="file-edit" class="w-5 h-5"></i> Apply for Exam
                        </button>
                        <!-- Register Button (FIXED: Now triggers handleRegister) -->
                        <button onclick="handleRegister(); toggleMenu()"
                            class="w-full flex items-center justify-center px-5 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl shadow-md transition-all font-bold">
                            Register
                        </button>

                        <!-- Download Certificate Button -->
                        <button onclick="openModal('marksheetModal'); toggleMenu()"
                            class="w-full flex items-center justify-center gap-3 px-5 py-4 bg-emerald-50 dark:bg-emerald-900/20 hover:bg-emerald-100 dark:hover:bg-emerald-900/40 text-emerald-700 dark:text-emerald-400 rounded-xl transition-all font-bold">
                            <i data-lucide="download" class="w-5 h-5"></i> Download Certificate
                        </button>

                        <!-- Download Marksheet Button -->
                        <button onclick="openModal('marksheetModal'); toggleMenu()"
                            class="w-full flex items-center justify-center gap-3 px-5 py-4 bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/40 text-purple-700 dark:text-purple-400 rounded-xl transition-all font-bold">
                            <i data-lucide="file-text" class="w-5 h-5"></i> Download Marksheet
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section id="home"
        class="relative pt-20 pb-20 lg:pt-24 lg:pb-28 overflow-hidden bg-slate-50 dark:bg-slate-950 transition-colors">
        <!-- <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10"> -->
        <div class="w-full max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-6 relative z-10">
            <div class="grid lg:grid-cols-2 gap-12 lg:gap-12 items-start">
                <div class="max-w-2xl pt-4">
                    <!-- <div
                        class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-sm font-semibold mb-6 border border-blue-100 dark:border-blue-800">
                        <span class="flex h-2 w-2 rounded-full bg-blue-600"></span> Admissions Open for 2024
                    </div> -->
                    <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-sm font-semibold mb-6 border border-blue-100 dark:border-blue-800 transition-transform hover:scale-105 cursor-default"
                        data-aos="fade-right">
                        <span class="relative flex h-2.5 w-2.5">
                            <span
                                class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
                            <span class="relative inline-flex rounded-full h-2.5 w-2.5 bg-red-600"></span>
                        </span>
                        Admissions Open for 2026
                    </div>
                    <h1 class="text-4xl lg:text-6xl font-extrabold text-slate-900 dark:text-white leading-tight mb-6"
                        data-aos="fade-right">
                        Build Your Future with <span
                            class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400">Digital
                            Skills</span>
                    </h1>
                    <p class="text-lg text-slate-600 dark:text-slate-400 mb-8 leading-relaxed" data-aos="fade-right">
                        NIAT Computer Academy provides top-tier vocational training in computer basics, accounting, and
                        design. Empowering students with practical skills for the modern workforce.
                    </p>
                    <!-- <div class="flex flex-col sm:flex-row gap-4">
                        <button onclick="scrollToSection('courses')"
                            class="px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-lg hover:shadow-blue-500/30 transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2">
                            Explore Courses <i data-lucide="chevron-right" class="w-5 h-5"></i>
                        </button>
                        < !-- FIXED: Register Button triggers handleRegister -- >
                        <button onclick="handleRegister()"
                            class="px-8 py-4 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-700 rounded-xl font-semibold shadow-sm hover:shadow-md transition-all flex items-center justify-center gap-2">
                            Register
                        </button>
                    </div> -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 w-full">

                        <button onclick="scrollToSection('courses')"
                            class="w-full py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-lg hover:shadow-blue-500/30 transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2 group"
                            data-aos="zoom-in up" data-aos-delay="200">
                            Explore Courses
                            <i data-lucide="chevron-right"
                                class="w-5 h-5 transition-transform group-hover:translate-x-1"></i>
                        </button>

                        <button onclick="handleRegister()"
                            class="w-full py-4 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-700 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2 hover:border-blue-600 hover:text-blue-600 dark:hover:border-blue-400"
                            data-aos="zoom-in up" data-aos-delay="200">
                            Register
                        </button>
                    </div>
                    <div class="mt-4 w-full" data-aos="zoom-in-up" data-aos-delay="300">
                        <button onclick="handleExamApplication()"
                            class="w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-xl font-bold shadow-lg hover:shadow-indigo-500/30 transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2">
                            <i data-lucide="file-edit" class="w-5 h-5"></i> Apply for Exam
                        </button>
                    </div>
                </div>
                <div class="relative lg:ml-6 flex flex-col gap-8" data-aos="fade-left">
                    <!-- Carousel Container with onClick -->
                    <div class="relative rounded-3xl overflow-hidden shadow-2xl border-4 border-white dark:border-slate-800 aspect-[4/3] group bg-slate-200 dark:bg-slate-800"
                        onclick="showDots()">
                        <div id="carouselTrack"
                            class="flex h-full transition-transform duration-500 ease-out cursor-grab active:cursor-grabbing">
                            <div class="min-w-full h-full relative"><img
                                    src="https://images.unsplash.com/photo-1531482615713-2afd69097998?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
                                    alt="Students" class="w-full h-full object-cover"></div>
                            <div class="min-w-full h-full relative"><img
                                    src="https://images.unsplash.com/photo-1517694712202-14dd9538aa97?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
                                    alt="Coding" class="w-full h-full object-cover"></div>
                            <div class="min-w-full h-full relative"><img
                                    src="https://images.unsplash.com/photo-1524178232363-1fb2b075b655?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
                                    alt="Class" class="w-full h-full object-cover"></div>
                            <div class="min-w-full h-full relative"><img
                                    src="https://images.unsplash.com/photo-1542744173-8e7e53415bb0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80"
                                    alt="Account" class="w-full h-full object-cover"></div>
                        </div>
                        <div class="absolute bottom-4 left-0 right-0 flex justify-center gap-2 z-10" id="carouselDots">
                        </div>
                        <button onclick="prevSlide(); showDots()"
                            class="absolute left-2 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"><i
                                data-lucide="chevron-left" class="w-6 h-6"></i></button>
                        <button onclick="nextSlide(); showDots()"
                            class="absolute right-2 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"><i
                                data-lucide="chevron-right" class="w-6 h-6"></i></button>
                    </div>
                </div>
            </div>
            <!-- <div id="states"
                class="bg-white dark:bg-slate-900 rounded-2xl p-6 shadow-lg border border-slate-100 dark:border-slate-800 grid grid-cols-4 divide-x divide-slate-100 dark:divide-slate-800">
                <div class="text-center px-1 flex flex-col items-center">
                    <div class="p-2 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full mb-2">
                        <i data-lucide="users" class="w-4 h-4"></i>
                    </div>
                    <p class="text-xl lg:text-2xl font-bold text-slate-900 dark:text-white">5k+</p>
                    <p class="text-[10px] lg:text-xs text-slate-500 dark:text-slate-400 font-medium">Students</p>
                </div>
                <div class="text-center px-1 flex flex-col items-center">
                    <div class="p-2 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full mb-2">
                        <i data-lucide="calendar" class="w-4 h-4"></i>
                    </div>
                    <p class="text-xl lg:text-2xl font-bold text-slate-900 dark:text-white">10+</p>
                    <p class="text-[10px] lg:text-xs text-slate-500 dark:text-slate-400 font-medium">Years Exp</p>
                </div>
                <div class="text-center px-1 flex flex-col items-center">
                    <div class="p-2 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full mb-2">
                        <i data-lucide="book-open" class="w-4 h-4"></i>
                    </div>
                    <p class="text-xl lg:text-2xl font-bold text-slate-900 dark:text-white">20+</p>
                    <p class="text-[10px] lg:text-xs text-slate-500 dark:text-slate-400 font-medium">Courses</p>
                </div>
                <div class="text-center px-1 flex flex-col items-center">
                    <div class="p-2 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full mb-2">
                        <i data-lucide="briefcase" class="w-4 h-4"></i>
                    </div>
                    <p class="text-xl lg:text-2xl font-bold text-slate-900 dark:text-white">100%</p>
                    <p class="text-[10px] lg:text-xs text-slate-500 dark:text-slate-400 font-medium">Placement</p>
                </div>
            </div> -->
            <div id="states" class="grid grid-cols-2 md:grid-cols-4 gap-6 mt-16" data-aos="zoom-in-up">

                <div
                    class="bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-lg border border-slate-100 dark:border-slate-700 flex flex-col items-center hover:-translate-y-2 transition-transform duration-300">
                    <div class="p-4 bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400 rounded-full mb-4">
                        <i data-lucide="users" class="w-8 h-8"></i>
                    </div>
                    <h3 class="text-3xl font-extrabold text-slate-900 dark:text-white mb-1">
                        <span class="counter" data-target="5000">0</span>+
                    </h3>
                    <p class="text-sm font-medium text-slate-500 dark:text-slate-400">Happy Students</p>
                </div>

                <div
                    class="bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-lg border border-slate-100 dark:border-slate-700 flex flex-col items-center hover:-translate-y-2 transition-transform duration-300">
                    <div
                        class="p-4 bg-amber-100 dark:bg-amber-900/40 text-amber-600 dark:text-amber-400 rounded-full mb-4">
                        <i data-lucide="calendar" class="w-8 h-8"></i>
                    </div>
                    <h3 class="text-3xl font-extrabold text-slate-900 dark:text-white mb-1">
                        <span class="counter" data-target="10">0</span>+
                    </h3>
                    <p class="text-sm font-medium text-slate-500 dark:text-slate-400">Years Experience</p>
                </div>

                <div
                    class="bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-lg border border-slate-100 dark:border-slate-700 flex flex-col items-center hover:-translate-y-2 transition-transform duration-300">
                    <div class="p-4 bg-pink-100 dark:bg-pink-900/40 text-pink-600 dark:text-pink-400 rounded-full mb-4">
                        <i data-lucide="book-open" class="w-8 h-8"></i>
                    </div>
                    <h3 class="text-3xl font-extrabold text-slate-900 dark:text-white mb-1">
                        <span class="counter" data-target="20">0</span>+
                    </h3>
                    <p class="text-sm font-medium text-slate-500 dark:text-slate-400">Premium Courses</p>
                </div>

                <div
                    class="bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-lg border border-slate-100 dark:border-slate-700 flex flex-col items-center hover:-translate-y-2 transition-transform duration-300">
                    <div
                        class="p-4 bg-emerald-100 dark:bg-emerald-900/40 text-emerald-600 dark:text-emerald-400 rounded-full mb-4">
                        <i data-lucide="briefcase" class="w-8 h-8"></i>
                    </div>
                    <h3 class="text-3xl font-extrabold text-slate-900 dark:text-white mb-1">
                        <span class="counter" data-target="100">0</span>%
                    </h3>
                    <p class="text-sm font-medium text-slate-500 dark:text-slate-400">Placement Rate</p>
                </div>

            </div>
        </div>
    </section>

    <!-- <section id="states" class="py-16 bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800 transition-colors">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row items-center gap-12">
                <div class="bg-white dark:bg-slate-900 rounded-2xl p-6 shadow-lg border border-slate-100 dark:border-slate-800 grid grid-cols-4 divide-x divide-slate-100 dark:divide-slate-800">
                    <div class="text-center px-1 flex flex-col items-center">
                        <div class="p-2 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full mb-2"><i data-lucide="users" class="w-4 h-4"></i></div>
                        <p class="text-xl lg:text-2xl font-bold text-slate-900 dark:text-white">5k+</p>
                        <p class="text-[10px] lg:text-xs text-slate-500 dark:text-slate-400 font-medium">Students</p>
                    </div>
                    <div class="text-center px-1 flex flex-col items-center">
                        <div class="p-2 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full mb-2"><i data-lucide="calendar" class="w-4 h-4"></i></div>
                        <p class="text-xl lg:text-2xl font-bold text-slate-900 dark:text-white">10+</p>
                        <p class="text-[10px] lg:text-xs text-slate-500 dark:text-slate-400 font-medium">Years Exp</p>
                    </div>
                    <div class="text-center px-1 flex flex-col items-center">
                        <div class="p-2 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full mb-2"><i data-lucide="book-open" class="w-4 h-4"></i></div>
                        <p class="text-xl lg:text-2xl font-bold text-slate-900 dark:text-white">20+</p>
                        <p class="text-[10px] lg:text-xs text-slate-500 dark:text-slate-400 font-medium">Courses</p>
                    </div>
                    <div class="text-center px-1 flex flex-col items-center">
                        <div class="p-2 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full mb-2"><i data-lucide="briefcase" class="w-4 h-4"></i></div>
                        <p class="text-xl lg:text-2xl font-bold text-slate-900 dark:text-white">100%</p>
                        <p class="text-[10px] lg:text-xs text-slate-500 dark:text-slate-400 font-medium">Placement</p>
                    </div>
                </div>
            </div>
        </div>
    </section> -->

    <!-- About Us Section -->
    <section id="about"
        class="py-16 bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800 transition-colors">
        <!-- <div class="container mx-auto px-4"> -->
        <div class="w-full max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-12">
            <div class="flex flex-col md:flex-row items-center gap-12">
                <div class="md:w-1/2" data-aos="zoom-in">
                    <img src="https://images.unsplash.com/photo-1523240795612-9a054b0db644?ixlib=rb-4.0.3&auto=format&fit=crop&w=1740&q=80"
                        alt="About NIAT" class="rounded-3xl shadow-2xl w-full object-cover h-80">
                </div>
                <div class="md:w-1/2">
                    <span class="text-blue-600 dark:text-blue-400 font-bold tracking-wider uppercase text-sm mb-2 block"
                        data-aos="zoom-in">Who
                        We Are</span>
                    <h2 class="text-3xl font-bold text-slate-900 dark:text-white mb-6" data-aos="zoom-in">Empowering
                        Education Since 2014
                    </h2>
                    <p class="text-slate-600 dark:text-slate-400 mb-6 leading-relaxed" data-aos="zoom-in">
                        At NIAT Computer Academy, our mission is to bridge the digital divide by providing affordable,
                        high-quality technical education. We believe in practical learning that translates directly to
                        employability.
                    </p>
                    <ul class="space-y-3 mb-8">
                        <li class="flex items-center gap-3"><i data-lucide="check-circle-2" data-aos="zoom-in"
                                data-aos-delay="400" class="w-5 h-5 text-emerald-500"></i><span
                                class="text-slate-700 dark:text-slate-300 font-medium" data-aos="zoom-in"
                                data-aos-delay="100">ISO 9001:2015 Certified
                                Institute</span></li>
                        <li class="flex items-center gap-3"><i data-lucide="check-circle-2" data-aos="zoom-in"
                                data-aos-delay="500" class="w-5 h-5 text-emerald-500"></i><span
                                class="text-slate-700 dark:text-slate-300 font-medium" data-aos="zoom-in"
                                data-aos-delay="200">Industry-standard
                                Curriculum</span></li>
                        <li class="flex items-center gap-3"><i data-lucide="check-circle-2" data-aos="zoom-in"
                                data-aos-delay="600" class="w-5 h-5 text-emerald-500"></i><span
                                class="text-slate-700 dark:text-slate-300 font-medium" data-aos="zoom-in"
                                data-aos-delay="300">Dedicated Placement Cell</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <!-- <section class="py-16 bg-slate-50 dark:bg-slate-950 transition-colors">
        <!- - <div class="container mx-auto px-4"> - ->
        <div class="w-full max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-12">
            <div class="grid md:grid-cols-3 gap-8">
                <div
                    class="flex items-start gap-4 p-6 rounded-2xl bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 hover:border-blue-100 dark:hover:border-blue-900 hover:shadow-lg transition-all group">
                    <div
                        class="p-3 bg-slate-50 dark:bg-slate-800 rounded-xl shadow-sm group-hover:scale-110 transition-transform duration-300">
                        <i data-lucide="users" class="w-6 h-6 text-orange-500"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-lg text-slate-900 dark:text-white mb-1">Expert Instructors</h3>
                        <p class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed">Learn from industry
                            veterans.</p>
                    </div>
                </div>
                <div
                    class="flex items-start gap-4 p-6 rounded-2xl bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 hover:border-blue-100 dark:hover:border-blue-900 hover:shadow-lg transition-all group">
                    <div
                        class="p-3 bg-slate-50 dark:bg-slate-800 rounded-xl shadow-sm group-hover:scale-110 transition-transform duration-300">
                        <i data-lucide="award" class="w-6 h-6 text-blue-500"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-lg text-slate-900 dark:text-white mb-1">Recognized Certification</h3>
                        <p class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed">Value across the industry.
                        </p>
                    </div>
                </div>
                <div
                    class="flex items-start gap-4 p-6 rounded-2xl bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 hover:border-blue-100 dark:hover:border-blue-900 hover:shadow-lg transition-all group">
                    <div
                        class="p-3 bg-slate-50 dark:bg-slate-800 rounded-xl shadow-sm group-hover:scale-110 transition-transform duration-300">
                        <i data-lucide="check-circle" class="w-6 h-6 text-green-500"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-lg text-slate-900 dark:text-white mb-1">Practical Training</h3>
                        <p class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed">100% Hands-on lab
                            sessions.</p>
                    </div>
                </div>
            </div>
        </div>
    </section> -->
    <section
        class="py-20 bg-slate-50 dark:bg-slate-950 transition-colors border-b border-slate-200 dark:border-slate-800">
        <div class="w-full max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-12">

            <div class="text-center max-w-3xl mx-auto mb-16" data-aos="zoom-in">
                <span class="text-blue-600 dark:text-blue-400 font-bold tracking-wider uppercase text-sm mb-2 block">
                    Why Choose Us
                </span>
                <h2 class="text-3xl md:text-4xl font-extrabold text-slate-900 dark:text-white mb-4">
                    Redefining Computer Education
                </h2>
                <p class="text-slate-600 dark:text-slate-400 text-lg leading-relaxed">
                    We go beyond textbooks. Our practical, hands-on approach ensures you gain the real-world skills that
                    today's top employers are looking for.
                </p>
            </div>

            <div class="grid md:grid-cols-3 gap-8">
                <div class="flex items-start gap-4 p-8 rounded-3xl bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 hover:border-orange-200 dark:hover:border-orange-900 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"
                    data-aos="fade-up" data-aos-delay="0">
                    <div
                        class="p-3 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 rounded-2xl shadow-sm group-hover:scale-110 transition-transform duration-300">
                        <i data-lucide="users" class="w-8 h-8"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-xl text-slate-900 dark:text-white mb-2">Expert Instructors</h3>
                        <p class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed">
                            Learn directly from industry veterans with years of real-world experience.
                        </p>
                    </div>
                </div>

                <div class="flex items-start gap-4 p-8 rounded-3xl bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 hover:border-blue-200 dark:hover:border-blue-900 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"
                    data-aos="fade-up" data-aos-delay="100">
                    <div
                        class="p-3 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-2xl shadow-sm group-hover:scale-110 transition-transform duration-300">
                        <i data-lucide="award" class="w-8 h-8"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-xl text-slate-900 dark:text-white mb-2">Recognized Certification</h3>
                        <p class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed">
                            Earn certificates that are ISO 9001:2015 certified and valued across the industry.
                        </p>
                    </div>
                </div>

                <div class="flex items-start gap-4 p-8 rounded-3xl bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 hover:border-emerald-200 dark:hover:border-emerald-900 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group"
                    data-aos="fade-up" data-aos-delay="200">
                    <div
                        class="p-3 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 rounded-2xl shadow-sm group-hover:scale-110 transition-transform duration-300">
                        <i data-lucide="check-circle" class="w-8 h-8"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-xl text-slate-900 dark:text-white mb-2">Practical Training</h3>
                        <p class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed">
                            100% Hands-on lab sessions. We believe in learning by doing, not just watching.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="courses" class="py-20 bg-white dark:bg-slate-900 transition-colors">
        <div class="container mx-auto px-4 sm:px-6">

            <div class="text-center mb-10" data-aos="zoom-out">
                <h2 class="text-3xl md:text-4xl font-bold text-slate-900 dark:text-white mb-4">Our Popular Courses</h2>
                <p class="text-slate-600 dark:text-slate-400 max-w-2xl mx-auto">Choose from our wide range of
                    industry-oriented courses designed to make you job-ready.</p>
            </div>

            <div class="flex flex-wrap justify-center gap-3 mb-12" data-aos="zoom-out">
                <button onclick="filterCourses('all')" id="btn-all" class="filter-btn active">All</button>
                <button onclick="filterCourses('Three Month')" id="btn-three" class="filter-btn">Three Month</button>
                <button onclick="filterCourses('Six Month')" id="btn-six" class="filter-btn">Six Month</button>
                <button onclick="filterCourses('One Year')" id="btn-year" class="filter-btn">One Year</button>
                <button onclick="filterCourses('Special')" id="btn-special" class="filter-btn">Special</button>
            </div>

            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="dynamicCourseGrid">
            </div>

            <!-- <div id="moreCoursesContainer" class="contents hidden"> -->
            <div id="moreCoursesContainer" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8 hidden"></div>
        </div>

        <div class="mt-16 text-center hidden" id="viewAllWrapper">
            <button id="viewAllBtn" onclick="toggleViewMore()"
                class="px-8 py-3 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-300 dark:border-slate-700 font-bold rounded-full hover:bg-slate-50 dark:hover:bg-slate-700 transition-all shadow-sm active:scale-95"
                data-aos="zoom-in-up" data-aos-delay="100">
                View All Courses
            </button>
        </div>
        </div>
    </section>

    <!-- Student Portal Section (Modified) -->
    <section class="py-20 bg-slate-900 text-white overflow-hidden relative">
        <!-- <div class="container mx-auto px-4 relative z-10"> -->
        <div class="w-full max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-12 relative z-10">
            <div class="flex flex-col md:flex-row items-center justify-between gap-12">
                <div class="md:w-1/2" data-aos="zoom-in">
                    <h2 class="text-3xl md:text-4xl font-bold mb-6">Manage Your Academic Journey Online</h2>
                    <p class="text-slate-300 text-lg mb-8 leading-relaxed">NIAT is upgrading! Register online, track
                        attendance, and download certified e-marksheets directly from our portal.</p>
                    <!-- <div class="flex flex-col sm:flex-row gap-4">
                        <!- - Register Button (No Icon) - ->
                        <button onclick="handleRegister()"
                            class="flex-1 px-6 py-4 bg-white text-slate-900 rounded-lg font-bold hover:bg-slate-100 transition-colors text-center">
                            Register
                        </button>

                        <!- - Download Certificate - ->
                        <button onclick="openModal('marksheetModal')"
                            class="px-6 py-3 border border-slate-600 text-white rounded-lg font-semibold hover:border-emerald-500 hover:text-emerald-400 hover:bg-emerald-500/10 transition-all flex items-center justify-center gap-2">
                            <i data-lucide="download" class="w-5 h-5"></i> Download Certificate
                        </button>

                        <!- - Download Marksheet - ->
                        <button onclick="openModal('marksheetModal')"
                            class="px-6 py-3 border border-slate-600 text-white rounded-lg font-semibold hover:border-purple-500 hover:text-purple-400 hover:bg-purple-500/10 transition-all flex items-center justify-center gap-2">
                            <i data-lucide="file-text" class="w-5 h-5"></i> Download Marksheet
                        </button>
                    </div> -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 w-full">

                        <button onclick="handleExamApplication()"
                            class="w-full px-6 py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg hover:-translate-y-1 transition-all text-center flex items-center justify-center gap-2">
                            <i data-lucide="file-edit" class="w-5 h-5"></i> Apply for Exam
                        </button>

                        <button onclick="handleRegister()"
                            class="w-full px-6 py-4 bg-white text-slate-900 rounded-xl font-bold shadow-lg hover:-translate-y-1 hover:bg-slate-50 transition-all text-center">
                            Register
                        </button>

                        <button onclick="openModal('marksheetModal')"
                            class="w-full px-6 py-4 border border-slate-600 text-white rounded-xl font-semibold hover:border-emerald-500 hover:text-emerald-400 hover:bg-emerald-500/10 transition-all flex items-center justify-center gap-2">
                            <i data-lucide="download" class="w-5 h-5"></i> Certificate
                        </button>

                        <button onclick="openModal('marksheetModal')"
                            class="w-full px-6 py-4 border border-slate-600 text-white rounded-xl font-semibold hover:border-purple-500 hover:text-purple-400 hover:bg-purple-500/10 transition-all flex items-center justify-center gap-2">
                            <i data-lucide="file-text" class="w-5 h-5"></i> Marksheet
                        </button>

                    </div>
                </div>
                <div class="md:w-1/2 w-full flex justify-center" data-aos="zoom-out" data-aos-delay="100">

                    <div
                        class="bg-slate-800 p-6 rounded-2xl border border-slate-700 shadow-2xl max-w-md w-full hover-shake transition-all duration-300">

                        <div class="flex items-center gap-4 mb-6 border-b border-slate-700 pb-4">
                            <div
                                class="w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center shadow-lg shadow-blue-500/30">
                                <i data-lucide="shield-check" class="w-6 h-6 text-white"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-lg">Demo Documents</h4>
                                <p class="text-xs text-slate-400">Certificate & Marksheet</p>
                            </div>
                        </div>
                        <div
                            class="mt-4 p-6 bg-slate-900/50 rounded-xl border border-dashed border-slate-600 flex flex-col gap-3 justify-center items-center h-48 relative overflow-hidden">

                            <p class="absolute top-2 text-[10px] text-slate-500 font-bold uppercase tracking-widest">
                                Document Preview</p>

                            <div
                                class="flex items-center gap-3 w-full max-w-[200px] bg-slate-800 p-3 rounded-lg border border-slate-700 hover:bg-slate-700 hover:border-emerald-500/50 transition-all group cursor-default">
                                <div
                                    class="p-2 bg-emerald-500/20 text-emerald-400 rounded-lg group-hover:scale-110 transition-transform">
                                    <i data-lucide="award" class="w-5 h-5"></i>
                                </div>
                                <div>
                                    <p class="text-xs text-slate-400 font-medium">Verified</p>
                                    <p class="text-sm font-bold text-emerald-400">Certificate</p>
                                </div>
                            </div>

                            <div
                                class="flex items-center gap-3 w-full max-w-[200px] bg-slate-800 p-3 rounded-lg border border-slate-700 hover:bg-slate-700 hover:border-purple-500/50 transition-all group cursor-default">
                                <div
                                    class="p-2 bg-purple-500/20 text-purple-400 rounded-lg group-hover:scale-110 transition-transform">
                                    <i data-lucide="file-text" class="w-5 h-5"></i>
                                </div>
                                <div>
                                    <p class="text-xs text-slate-400 font-medium">Final Year</p>
                                    <p class="text-sm font-bold text-purple-400">Marksheet</p>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Teacher Section -->
    <section id="faculty"
        class="py-20 bg-slate-50 dark:bg-slate-950 transition-colors border-b border-slate-200 dark:border-slate-800">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <!-- <div class="w-full max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-12"></div> -->
            <div class="text-center max-w-3xl mx-auto mb-16" data-aos="zoom-in">
                <span class="text-blue-600 dark:text-blue-400 font-bold tracking-wider uppercase text-sm mb-2 block">Our
                    Faculty</span>
                <h2 class="text-3xl md:text-4xl font-extrabold text-slate-900 dark:text-white mb-4">Meet The Teachers
                </h2>
                <p class="text-slate-600 dark:text-slate-400 text-lg">
                    Expert educators committed to guiding you from the basics to professional mastery.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">

                <div class="group bg-white dark:bg-slate-900 rounded-3xl p-6 border border-slate-100 dark:border-slate-800 hover:border-blue-200 dark:hover:border-blue-900 shadow-sm hover:shadow-xl transition-all duration-300 hover:-translate-y-1"
                    data-aos="flip-left" data-aos-delay="0">
                    <div class="relative h-64 w-full mb-6 rounded-2xl overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                            alt="Ms. Sarah Chen"
                            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                        <div
                            class="absolute inset-0 bg-gradient-to-t from-slate-900/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-4">
                            <div class="flex gap-2">
                                <a href="#"
                                    class="p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-blue-600 transition-colors"><i
                                        data-lucide="linkedin" class="w-4 h-4"></i></a>
                                <a href="#"
                                    class="p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-blue-600 transition-colors"><i
                                        data-lucide="mail" class="w-4 h-4"></i></a>
                            </div>
                        </div>
                    </div>
                    <div class="text-center">
                        <h3 class="text-xl font-bold text-slate-900 dark:text-white">Ms. Sarah Chen</h3>
                        <p class="text-sm font-semibold text-blue-600 dark:text-blue-400 mb-3 uppercase tracking-wide">
                            Head of Science</p>
                        <p class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed mb-4">"I believe in
                            hands-on experimentation. Science isn't just memorizing facts; it's about questioning the
                            world."</p>
                        <button
                            class="text-sm font-bold text-slate-900 dark:text-white border-b-2 border-transparent hover:border-blue-600 transition-all">View
                            Bio</button>
                    </div>
                </div>

                <div class="group bg-white dark:bg-slate-900 rounded-3xl p-6 border border-slate-100 dark:border-slate-800 hover:border-blue-200 dark:hover:border-blue-900 shadow-sm hover:shadow-xl transition-all duration-300 hover:-translate-y-1"
                    data-aos="flip-left" data-aos-delay="100">
                    <div class="relative h-64 w-full mb-6 rounded-2xl overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                            alt="Mr. David Ross"
                            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                        <div
                            class="absolute inset-0 bg-gradient-to-t from-slate-900/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-4">
                            <div class="flex gap-2">
                                <a href="#"
                                    class="p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-blue-600 transition-colors"><i
                                        data-lucide="linkedin" class="w-4 h-4"></i></a>
                                <a href="#"
                                    class="p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-blue-600 transition-colors"><i
                                        data-lucide="mail" class="w-4 h-4"></i></a>
                            </div>
                        </div>
                    </div>
                    <div class="text-center">
                        <h3 class="text-xl font-bold text-slate-900 dark:text-white">Mr. David Ross</h3>
                        <p class="text-sm font-semibold text-blue-600 dark:text-blue-400 mb-3 uppercase tracking-wide">
                            Senior IT Instructor</p>
                        <p class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed mb-4">"Coding is the
                            literacy of the future. My goal is to make complex logic feel simple and intuitive."</p>
                        <button
                            class="text-sm font-bold text-slate-900 dark:text-white border-b-2 border-transparent hover:border-blue-600 transition-all">View
                            Bio</button>
                    </div>
                </div>

                <div class="group bg-white dark:bg-slate-900 rounded-3xl p-6 border border-slate-100 dark:border-slate-800 hover:border-blue-200 dark:hover:border-blue-900 shadow-sm hover:shadow-xl transition-all duration-300 hover:-translate-y-1"
                    data-aos="flip-left" data-aos-delay="200">
                    <div class="relative h-64 w-full mb-6 rounded-2xl overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1580894732444-8ecded7900cd?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                            alt="Mrs. Priya Kapoor"
                            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                        <div
                            class="absolute inset-0 bg-gradient-to-t from-slate-900/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-4">
                            <div class="flex gap-2">
                                <a href="#"
                                    class="p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-blue-600 transition-colors"><i
                                        data-lucide="linkedin" class="w-4 h-4"></i></a>
                                <a href="#"
                                    class="p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-blue-600 transition-colors"><i
                                        data-lucide="mail" class="w-4 h-4"></i></a>
                            </div>
                        </div>
                    </div>
                    <div class="text-center">
                        <h3 class="text-xl font-bold text-slate-900 dark:text-white">Mrs. Priya Kapoor</h3>
                        <p class="text-sm font-semibold text-blue-600 dark:text-blue-400 mb-3 uppercase tracking-wide">
                            Accounting Expert</p>
                        <p class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed mb-4">"Accuracy is
                            everything. I teach students to see the story behind the numbers in financial reports."</p>
                        <button
                            class="text-sm font-bold text-slate-900 dark:text-white border-b-2 border-transparent hover:border-blue-600 transition-all">View
                            Bio</button>
                    </div>
                </div>

                <div class="group bg-white dark:bg-slate-900 rounded-3xl p-6 border border-slate-100 dark:border-slate-800 hover:border-blue-200 dark:hover:border-blue-900 shadow-sm hover:shadow-xl transition-all duration-300 hover:-translate-y-1"
                    data-aos="flip-left" data-aos-delay="300">
                    <div class="relative h-64 w-full mb-6 rounded-2xl overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                            alt="Mr. James Carter"
                            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                        <div
                            class="absolute inset-0 bg-gradient-to-t from-slate-900/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-4">
                            <div class="flex gap-2">
                                <a href="#"
                                    class="p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-blue-600 transition-colors"><i
                                        data-lucide="linkedin" class="w-4 h-4"></i></a>
                                <a href="#"
                                    class="p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-blue-600 transition-colors"><i
                                        data-lucide="mail" class="w-4 h-4"></i></a>
                            </div>
                        </div>
                    </div>
                    <div class="text-center">
                        <h3 class="text-xl font-bold text-slate-900 dark:text-white">Mr. James Carter</h3>
                        <p class="text-sm font-semibold text-blue-600 dark:text-blue-400 mb-3 uppercase tracking-wide">
                            Design Mentor</p>
                        <p class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed mb-4">"Design is where
                            functionality meets art. I help students unleash their creativity using modern tools."</p>
                        <button
                            class="text-sm font-bold text-slate-900 dark:text-white border-b-2 border-transparent hover:border-blue-600 transition-all">View
                            Bio</button>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- Testimonial Section -->
    <section id="testimonials" class="py-24 bg-white dark:bg-slate-900 transition-colors relative overflow-hidden">
        <div class="absolute top-10 left-10 text-slate-100 dark:text-slate-800 pointer-events-none select-none">
            <i data-lucide="quote" class="w-48 h-48 opacity-50 transform rotate-180"></i>
        </div>

        <div class="container mx-auto px-4 relative z-10">
            <!-- <div class="w-full max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-12 relative z-10"></div> -->
            <div class="max-w-4xl mx-auto text-center">

                <div
                    class="flex justify-between items-center absolute top-1/2 -translate-y-1/2 w-full left-0 px-0 md:-px-12 pointer-events-none">
                    <button onclick="prevTestimonial()"
                        class="pointer-events-auto p-3 rounded-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-lg text-slate-600 dark:text-slate-300 hover:text-blue-600 dark:hover:text-blue-400 hover:scale-110 transition-all">
                        <i data-lucide="arrow-left" class="w-6 h-6"></i>
                    </button>
                    <button onclick="nextTestimonial()"
                        class="pointer-events-auto p-3 rounded-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-lg text-slate-600 dark:text-slate-300 hover:text-blue-600 dark:hover:text-blue-400 hover:scale-110 transition-all">
                        <i data-lucide="arrow-right" class="w-6 h-6"></i>
                    </button>
                </div>

                <div id="testimonial-slider" class="min-h-[300px] flex items-center justify-center">

                    <div class="testimonial-slide active animate-in fade-in slide-in-from-bottom-4 duration-500"
                        data-index="0">
                        <div class="mb-8 flex justify-center">
                            <div class="w-20 h-20 rounded-full p-1 bg-gradient-to-br from-blue-500 to-indigo-500">
                                <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80"
                                    class="w-full h-full object-cover rounded-full border-4 border-white dark:border-slate-900">
                            </div>
                        </div>
                        <h3 class="text-2xl md:text-4xl font-bold text-slate-900 dark:text-white mb-6 leading-tight">
                            "This program helped me land my <span class="text-blue-600 dark:text-blue-400">first
                                internship</span> within two months of graduating."
                        </h3>
                        <div class="flex flex-col items-center">
                            <span class="font-bold text-lg text-slate-900 dark:text-white">Alex Johnson</span>
                            <span class="text-sm text-slate-500 dark:text-slate-400 font-medium">Alumnus, Class of
                                2023</span>
                        </div>
                    </div>

                    <div class="testimonial-slide hidden animate-in fade-in slide-in-from-bottom-4 duration-500"
                        data-index="1">
                        <div class="mb-8 flex justify-center">
                            <div class="w-20 h-20 rounded-full p-1 bg-gradient-to-br from-pink-500 to-rose-500">
                                <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80"
                                    class="w-full h-full object-cover rounded-full border-4 border-white dark:border-slate-900">
                            </div>
                        </div>
                        <h3 class="text-2xl md:text-4xl font-bold text-slate-900 dark:text-white mb-6 leading-tight">
                            "The <span class="text-pink-600 dark:text-pink-400">practical training</span> gave me
                            confidence. I wasn't just learning theory; I was building real projects."
                        </h3>
                        <div class="flex flex-col items-center">
                            <span class="font-bold text-lg text-slate-900 dark:text-white">Maria Garcia</span>
                            <span class="text-sm text-slate-500 dark:text-slate-400 font-medium">Digital Marketing
                                Freelancer</span>
                        </div>
                    </div>

                    <div class="testimonial-slide hidden animate-in fade-in slide-in-from-bottom-4 duration-500"
                        data-index="2">
                        <div class="mb-8 flex justify-center">
                            <div class="w-20 h-20 rounded-full p-1 bg-gradient-to-br from-emerald-500 to-teal-500">
                                <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80"
                                    class="w-full h-full object-cover rounded-full border-4 border-white dark:border-slate-900">
                            </div>
                        </div>
                        <h3 class="text-2xl md:text-4xl font-bold text-slate-900 dark:text-white mb-6 leading-tight">
                            "The <span class="text-emerald-600 dark:text-emerald-400">flexible schedule</span> allowed
                            me to work and study at the same time. Highly recommended!"
                        </h3>
                        <div class="flex flex-col items-center">
                            <span class="font-bold text-lg text-slate-900 dark:text-white">Rahul Patel</span>
                            <span class="text-sm text-slate-500 dark:text-slate-400 font-medium">Accounting
                                Executive</span>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- Footer Layout (Unchanged) -->
    <footer id="contact"
        class="bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 pt-16 pb-8 transition-colors">
        <!-- <div class="container mx-auto px-4"> -->
        <div class="w-full max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-12">

            <div class="mb-12" data-aos="fade-right">
                <div class="flex items-center gap-2 mb-4">
                    <img src="logoInstitute.jpeg" alt="NIAT Logo" class="w-10 h-10 object-contain rounded-md shadow-sm">
                    <div>
                        <h1 class="w-10 h-5 text-1xl font-bold text-slate-900 dark:text-white tracking-tight">NIAT
                        </h1>
                        <p class="text-xs text-slate-500 dark:text-slate-400 font-medium tracking-wide">COMPUTER
                            ACADEMY</p>
                    </div>
                </div>
                <p class="text-slate-500 dark:text-slate-400 text-sm max-w-xl">Empowering the youth with cutting-edge
                    computer education and vocational skills.</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
                <div class="bg-slate-50 dark:bg-slate-800 p-8 rounded-3xl border border-slate-100 dark:border-slate-700 flex flex-col justify-between transform hover:-translate-y-1 transition-all duration-300"
                    data-aos="fade-up">
                    <div class="space-y-6">
                        <h4 class="font-bold text-slate-900 dark:text-white text-xl mb-6 flex items-center gap-2">
                            <i data-lucide="map-pin" class="w-6 h-6 text-blue-600 dark:text-blue-400"></i>
                            Get in Touch
                        </h4>

                        <div class="flex items-start gap-4">
                            <div
                                class="p-3 bg-white dark:bg-slate-700 rounded-xl shadow-sm text-blue-600 dark:text-blue-400">
                                <i data-lucide="map" class="w-5 h-5"></i>
                            </div>
                            <div>
                                <p class="text-sm font-bold text-slate-900 dark:text-white">Visit Us</p>
                                <p class="text-sm text-slate-500 dark:text-slate-400 leading-relaxed">123 Education
                                    Lane, Knowledge City,<br>State, Zip - 400001</p>
                            </div>
                        </div>

                        <div class="flex items-start gap-4">
                            <div
                                class="p-3 bg-white dark:bg-slate-700 rounded-xl shadow-sm text-blue-600 dark:text-blue-400">
                                <i data-lucide="mail" class="w-5 h-5"></i>
                            </div>
                            <div>
                                <p class="text-sm font-bold text-slate-900 dark:text-white">Email Us</p>
                                <p class="text-sm text-slate-500 dark:text-slate-400">admissions@niat.edu</p>
                            </div>
                        </div>

                        <div class="flex items-start gap-4">
                            <div
                                class="p-3 bg-white dark:bg-slate-700 rounded-xl shadow-sm text-blue-600 dark:text-blue-400">
                                <i data-lucide="phone" class="w-5 h-5"></i>
                            </div>
                            <div>
                                <p class="text-sm font-bold text-slate-900 dark:text-white">Call Us</p>
                                <p class="text-sm text-slate-500 dark:text-slate-400">+91 98765 43210</p>
                            </div>
                        </div>

                        <div class="flex items-start gap-4">
                            <div
                                class="p-3 bg-white dark:bg-slate-700 rounded-xl shadow-sm text-blue-600 dark:text-blue-400">
                                <i data-lucide="clock" class="w-5 h-5"></i>
                            </div>
                            <div>
                                <p class="text-sm font-bold text-slate-900 dark:text-white">Working Time</p>
                                <p class="text-sm text-slate-500 dark:text-slate-400">Mon - Sat: 9:00 AM - 7:00 PM</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-slate-50 dark:bg-slate-800 p-8 rounded-3xl border border-slate-100 dark:border-slate-700 transform hover:-translate-y-1 transition-all duration-300"
                    data-aos="fade-up">
                    <h4 class="font-bold text-slate-900 dark:text-white text-xl mb-6 flex items-center gap-2">
                        <i data-lucide="send" class="w-6 h-6 text-blue-600 dark:text-blue-400"></i>
                        Send Message
                    </h4>
                    <form class="space-y-4">
                        <div class="grid grid-cols-2 gap-4">
                            <input type="text" placeholder="Full Name"
                                class="w-full px-4 py-3 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 text-sm text-slate-900 dark:text-white transition-all">
                            <input type="email" placeholder="Email Address"
                                class="w-full px-4 py-3 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 text-sm text-slate-900 dark:text-white transition-all">
                        </div>
                        <input type="text" placeholder="Subject"
                            class="w-full px-4 py-3 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 text-sm text-slate-900 dark:text-white transition-all">
                        <textarea rows="4" placeholder="How can we help you?"
                            class="w-full px-4 py-3 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 text-sm text-slate-900 dark:text-white transition-all resize-none"></textarea>

                        <button type="button"
                            class="w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-xl hover:bg-blue-700 transition-all shadow-lg hover:shadow-blue-500/30 flex items-center justify-center gap-2"
                            data-aos="zoom-in">
                            Send Message <i data-lucide="arrow-right" class="w-4 h-4"></i>
                        </button>
                    </form>
                </div>

            </div>

            <div class="mb-16 border-t border-slate-200 dark:border-slate-800 pt-8" data-aos="fade-left">
                <div class="flex flex-col md:flex-row justify-between items-center text-center gap-6">
                    <h4 class="font-bold text-slate-900 dark:text-white text-lg">Quick Links</h4>

                    <div
                        class="flex flex-wrap justify-center gap-6 text-sm font-medium text-slate-600 dark:text-slate-400">
                        <button onclick="scrollToSection('home')"
                            class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors transform hover:-translate-y-1 transition-all duration-300">Home</button>
                        <span class="text-slate-300 dark:text-slate-700 hidden md:inline">|</span>
                        <button onclick="scrollToSection('about')"
                            class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors transform hover:-translate-y-1 transition-all duration-300">About</button>
                        <span class="text-slate-300 dark:text-slate-700 hidden md:inline">|</span>
                        <button onclick="scrollToSection('courses')"
                            class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors transform hover:-translate-y-1 transition-all duration-300">Courses</button>
                        <span class="text-slate-300 dark:text-slate-700 hidden md:inline">|</span>
                        <button onclick="scrollToSection('faculty')"
                            class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors transform hover:-translate-y-1 transition-all duration-300">Faculty</button>
                        <span class="text-slate-300 dark:text-slate-700 hidden md:inline">|</span>
                        <button onclick="scrollToSection('testimonials')"
                            class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors transform hover:-translate-y-1 transition-all duration-300">Testimonials</button>
                        <span class="text-slate-300 dark:text-slate-700 hidden md:inline">|</span>
                        <button onclick="scrollToSection('contact')"
                            class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors transform hover:-translate-y-1 transition-all duration-300">Contact</button>
                        <span class="text-slate-300 dark:text-slate-700 hidden md:inline">|</span>
                        <button onclick="scrollToSection('home')"
                            class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors transform hover:-translate-y-1 transition-all duration-300">Privacy
                            Policy</button>
                        <span class="text-slate-300 dark:text-slate-700 hidden md:inline">|</span>
                        <button onclick="scrollToSection('home')"
                            class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors transform hover:-translate-y-1 transition-all duration-300">Terms
                            & Conditions</button>
                    </div>
                </div>
            </div>
            <!-- 3. Quick Links -->
            <!-- <div class="lg:col-span-3">
                <h4
                    class="font-bold text-slate-900 dark:text-white text-lg border-b border-slate-100 dark:border-slate-800 pb-2 mb-6">
                    Quick Links</h4>
                <ul class="space-y-3 text-sm text-slate-600 dark:text-slate-400">
                    <li><button onclick="scrollToSection('home')"
                            class="hover:text-blue-600 dark:hover:text-blue-400 flex items-center gap-2"><i
                                data-lucide="chevron-right" class="w-4 h-4 text-slate-300 dark:text-slate-600"></i>
                            Home</button></li>
                    <li><button onclick="scrollToSection('about')"
                            class="hover:text-blue-600 dark:hover:text-blue-400 flex items-center gap-2"><i
                                data-lucide="chevron-right" class="w-4 h-4 text-slate-300 dark:text-slate-600"></i>
                            About Us</button></li>
                    <li><button onclick="scrollToSection('courses')"
                            class="hover:text-blue-600 dark:hover:text-blue-400 flex items-center gap-2"><i
                                data-lucide="chevron-right" class="w-4 h-4 text-slate-300 dark:text-slate-600"></i>
                            Courses</button></li>
                    <li><button onclick="scrollToSection('contact')"
                            class="hover:text-blue-600 dark:hover:text-blue-400 flex items-center gap-2"><i
                                data-lucide="chevron-right" class="w-4 h-4 text-slate-300 dark:text-slate-600"></i>
                            Contact</button></li>
                    <li><a href="#" class="hover:text-blue-600 dark:hover:text-blue-400 flex items-center gap-2"><i
                                data-lucide="chevron-right" class="w-4 h-4 text-slate-300 dark:text-slate-600"></i>
                            Privacy Policy</a></li>
                    <li><a href="#" class="hover:text-blue-600 dark:hover:text-blue-400 flex items-center gap-2"><i
                                data-lucide="chevron-right" class="w-4 h-4 text-slate-300 dark:text-slate-600"></i>
                            Terms & Conditions</a></li>
                </ul>
            </div> -->

            <!-- Socials & Map -->
            <!-- <div class="mb-8">
                <div class="flex items-center gap-4 mb-4">
                    <span class="text-sm font-bold text-slate-700 dark:text-slate-300">Follow Us On:</span>
                    <a href="#"
                        class="w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-500 dark:text-slate-400 hover:bg-blue-600 hover:text-white transition-all"><i
                            data-lucide="facebook" class="w-5 h-5"></i></a>
                    <a href="#"
                        class="w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-500 dark:text-slate-400 hover:bg-pink-600 hover:text-white transition-all"><i
                            data-lucide="instagram" class="w-5 h-5"></i></a>
                    <a href="#"
                        class="w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-500 dark:text-slate-400 hover:bg-blue-800 hover:text-white transition-all"><i
                            data-lucide="linkedin" class="w-5 h-5"></i></a>
                </div>

                <div class="w-full h-64 bg-slate-200 dark:bg-slate-800 rounded-xl overflow-hidden shadow-inner">
                    <iframe
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3503.447551066042!2d77.123456!3d28.567890!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x390cfd5b347eb62d%3A0x52c2b7494e204dce!2sNew%20Delhi%2C%20Delhi!5e0!3m2!1sen!2sin!4v1709282345678!5m2!1sen!2sin"
                        width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div> -->
            <div id="social-icons" class="mb-8">
                <div class="flex items-center gap-4 mb-4">
                    <span class="text-sm font-bold text-slate-700 dark:text-slate-300">Follow Us On:</span>

                    <a href="#"
                        class="w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-500 dark:text-slate-400 hover:bg-blue-600 dark:hover:bg-blue-600 hover:text-white dark:hover:text-white transition-all"
                        data-aos="zoom-in" data-aos-delay="200">
                        <i data-lucide="facebook" class="w-5 h-5"></i>
                    </a>

                    <a href="#"
                        class="w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-500 dark:text-slate-400 hover:bg-pink-600 dark:hover:bg-pink-600 hover:text-white dark:hover:text-white transition-all"
                        data-aos="zoom-in" data-aos-delay="400">
                        <i data-lucide="instagram" class="w-5 h-5"></i>
                    </a>

                    <a href="#"
                        class="w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-500 dark:text-slate-400 hover:bg-blue-800 dark:hover:bg-blue-700 hover:text-white dark:hover:text-white transition-all"
                        data-aos="zoom-in" data-aos-delay="600">
                        <i data-lucide="linkedin" class="w-5 h-5"></i>
                    </a>
                </div>

                <div id="map" class="w-full h-64 bg-slate-200 dark:bg-slate-800 rounded-xl overflow-hidden shadow-inner"
                    data-aos="fade-up">
                    <!-- <iframe
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3503.447551066042!2d77.123456!3d28.567890!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x390cfd5b347eb62d%3A0x52c2b7494e204dce!2sNew%20Delhi%2C%20Delhi!5e0!3m2!1sen!2sin!4v1709282345678!5m2!1sen!2sin"
                        width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade"></iframe> -->
                    <iframe src="https://www.google.com/maps/d/u/9/embed?mid=1RCzr9dJLLcIGeAen1U3roWl0-85QH6k&ehbc"
                        width="100%" height="100%" style="border:0; margin-top: -68px; height: calc(100% + 68px);"
                        allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>

            <!-- <div
                class="border-t border-slate-100 dark:border-slate-800 pt-8 text-center text-slate-500 dark:text-slate-400 text-sm">
                <p>&copy; 2026 NIAT Computer Academy. All rights reserved.</p>
            </div> -->
            <div class="border-t border-slate-100 dark:border-slate-800 pt-8 text-center">

                <p class="text-slate-500 dark:text-slate-400 text-sm mb-2">
                    &copy; 2026 NIAT Computer Academy. All rights reserved.
                </p>

                <p class="text-xs text-slate-400 dark:text-slate-500">
                    Designed & Developed by
                    <a href="developer.html"
                        class="font-bold text-blue-600 dark:text-blue-400 hover:underline hover:text-blue-700 dark:hover:text-blue-300 transition-colors">
                        Kushilab Deva Sarma
                    </a>
                </p>

            </div>
        </div>
    </footer>

    <!-- Scroll to Top Button -->
    <button id="scrollTopBtn" onclick="window.scrollTo({top: 0, behavior: 'smooth'})"
        class="fixed bottom-6 right-6 z-50 bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full shadow-2xl transition-all transform hover:-translate-y-1">
        <i data-lucide="arrow-up" class="w-6 h-6"></i>
    </button>

    <!-- NEW: PROFILE OVERLAY -->
    <!-- <div id="profile-overlay">
        <div class="bg-pattern"></div>
        <div class="main-wrapper">
            <div class="glass-card">
                <div class="user-profile-bar">
                    <h3 class="text-xl font-bold text-slate-800">My Profile</h3>
                    <button onclick="closeProfile()" class="btn-secondary-sm">Go Back</button>
                </div>

                <div class="profile-section-card">
                    <h4 class="profile-header"><i data-lucide="user" class="w-5 h-5 text-blue-600"></i> The Basics</h4>
                    <div class="flex items-center gap-4 mb-4">
                        <div class="w-16 h-16 rounded-full bg-blue-100 overflow-hidden">
                            <img id="profile-avatar-lg" src="" class="w-full h-full object-cover">
                        </div>
                        <div>
                            <h2 id="profile-name" class="text-xl font-bold text-slate-800">Student Name</h2>
                            <p id="profile-email" class="text-sm text-slate-500">student@example.com</p>
                        </div>
                    </div>
                    <div class="profile-link">
                        <span class="flex items-center gap-3"><i data-lucide="qr-code" class="w-5 h-5"></i> Digital ID
                            Card</span>
                        <i data-lucide="chevron-right" class="w-4 h-4 text-slate-400"></i>
                    </div>
                </div>

                <div class="profile-section-card">
                    <h4 class="profile-header"><i data-lucide="map-pin" class="w-5 h-5 text-emerald-600"></i> Offline
                        Hub</h4>
                    <div class="profile-link">
                        <span class="flex items-center gap-3"><i data-lucide="calendar" class="w-5 h-5"></i> My
                            Schedule</span>
                        <span class="text-xs font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded">Mon-Wed 10AM</span>
                    </div>
                    <div class="profile-link">
                        <span class="flex items-center gap-3"><i data-lucide="check-circle" class="w-5 h-5"></i>
                            Attendance Tracker</span>
                        <span class="text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded">85% Present</span>
                    </div>
                </div>

                <div class="profile-section-card">
                    <h4 class="profile-header"><i data-lucide="lock" class="w-5 h-5 text-purple-600"></i> Digital Vault
                    </h4>
                    <div class="profile-link">
                        <span class="flex items-center gap-3"><i data-lucide="file-text" class="w-5 h-5"></i> Results /
                            Marksheet</span>
                        <i data-lucide="chevron-right" class="w-4 h-4 text-slate-400"></i>
                    </div>
                    <div class="profile-link opacity-50 cursor-not-allowed">
                        <span class="flex items-center gap-3"><i data-lucide="award" class="w-5 h-5"></i> Download
                            Certificate</span>
                        <span class="text-xs text-slate-400">Course In Progress</span>
                    </div>
                </div>

                <div class="profile-section-card">
                    <h4 class="profile-header"><i data-lucide="life-buoy" class="w-5 h-5 text-orange-600"></i> Support &
                        Exit</h4>
                    <div class="profile-link">
                        <span class="flex items-center gap-3"><i data-lucide="help-circle" class="w-5 h-5"></i> Help
                            Center</span>
                        <i data-lucide="chevron-right" class="w-4 h-4 text-slate-400"></i>
                    </div>
                    <div onclick="handleLogout()" class="profile-link text-red-600 hover:bg-red-50 hover:text-red-700">
                        <span class="flex items-center gap-3"><i data-lucide="log-out" class="w-5 h-5"></i>
                            Logout</span>
                    </div>
                </div>
            </div>
        </div>
    </div> -->

    <div id="profile-overlay" class="fixed inset-0 z-[200] hidden">
        <div id="profile-backdrop" onclick="closeProfile()"
            class="absolute inset-0 bg-slate-900/40 dark:bg-slate-950/60 backdrop-blur-sm opacity-0 transition-opacity duration-300">
        </div>

        <div id="profile-sidebar"
            class="absolute top-0 right-0 bottom-0 w-full max-w-[400px] bg-white dark:bg-slate-900 shadow-2xl transform translate-x-full transition-transform duration-400 ease-[cubic-bezier(0.16,1,0.3,1)] flex flex-col border-l border-slate-200 dark:border-slate-800">

            <div class="h-full overflow-y-auto overflow-x-hidden pb-8">

                <div class="relative h-36 bg-gradient-to-r from-blue-600 to-indigo-700 shrink-0">
                    <button onclick="closeProfile()"
                        class="absolute top-4 right-4 p-2 bg-black/20 hover:bg-black/40 text-white rounded-full backdrop-blur-md transition-all z-20">
                        <i data-lucide="x" class="w-5 h-5"></i>
                    </button>
                </div>

                <div class="px-8 relative">

                    <div class="flex justify-between items-end -mt-12 mb-4 relative z-10">
                        <div
                            class="w-24 h-24 shrink-0 rounded-full border-4 border-white dark:border-slate-900 overflow-hidden bg-slate-100 dark:bg-slate-800 shadow-md">
                            <img id="profile-avatar-lg" src="" alt="Profile" class="w-full h-full object-cover">
                        </div>
                        <button onclick="openEditProfile()" class="mb-2 px-4 py-1.5 text-xs font-bold text-blue-700 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors border border-blue-200 dark:border-blue-800/50">
                            <i data-lucide="edit-3" class="w-3 h-3 inline-block mr-1"></i> Edit Profile
                        </button>
                    </div>

                    <h2 id="profile-name" class="text-2xl font-bold text-slate-900 dark:text-white leading-tight">
                        Student Name</h2>
                    <p id="profile-email" class="text-slate-500 dark:text-slate-400 text-sm mb-8">student@example.com
                    </p>

                    <div class="grid grid-cols-2 gap-4 mb-8">
                        <div
                            class="bg-slate-50 dark:bg-slate-800/50 border border-slate-100 dark:border-slate-700 rounded-2xl p-4 text-center">
                            <div
                                class="w-10 h-10 mx-auto bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400 rounded-full flex items-center justify-center mb-2">
                                <i data-lucide="book-open" class="w-5 h-5"></i>
                            </div>
                            <p class="text-2xl font-extrabold text-slate-900 dark:text-white leading-none mb-1">2</p>
                            <p
                                class="text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-wider">
                                Active Courses</p>
                        </div>
                        <div
                            class="bg-slate-50 dark:bg-slate-800/50 border border-slate-100 dark:border-slate-700 rounded-2xl p-4 text-center">
                            <div
                                class="w-10 h-10 mx-auto bg-emerald-100 dark:bg-emerald-900/40 text-emerald-600 dark:text-emerald-400 rounded-full flex items-center justify-center mb-2">
                                <i data-lucide="check-circle" class="w-5 h-5"></i>
                            </div>
                            <p class="text-2xl font-extrabold text-slate-900 dark:text-white leading-none mb-1">85%</p>
                            <p
                                class="text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-wider">
                                Attendance</p>
                        </div>
                    </div>

                    <div class="space-y-3">
                        <h4 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 mt-6">Academic Center
                        </h4>

                        <div
                            class="flex items-center justify-between p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl hover:border-blue-500 dark:hover:border-blue-500 transition-all cursor-pointer group hover:shadow-md">
                            <div class="flex items-center gap-4">
                                <div
                                    class="p-2.5 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-xl group-hover:scale-110 transition-transform">
                                    <i data-lucide="calendar" class="w-5 h-5"></i></div>
                                <span class="font-bold text-sm text-slate-800 dark:text-slate-200">My Schedule</span>
                            </div>
                            <span
                                class="text-xs font-bold text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-md">Mon-Wed</span>
                        </div>

                        <div onclick="openModal('marksheetModal')"
                            class="flex items-center justify-between p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl hover:border-purple-500 dark:hover:border-purple-500 transition-all cursor-pointer group hover:shadow-md">
                            <div class="flex items-center gap-4">
                                <div
                                    class="p-2.5 bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 rounded-xl group-hover:scale-110 transition-transform">
                                    <i data-lucide="file-text" class="w-5 h-5"></i></div>
                                <span class="font-bold text-sm text-slate-800 dark:text-slate-200">Exam Results</span>
                            </div>
                            <i data-lucide="chevron-right"
                                class="w-4 h-4 text-slate-400 group-hover:text-purple-500 transition-colors"></i>
                        </div>

                        <h4 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 mt-8">Account</h4>

                        <div
                            class="flex items-center justify-between p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl hover:border-emerald-500 dark:hover:border-emerald-500 transition-all cursor-pointer group hover:shadow-md">
                            <div class="flex items-center gap-4">
                                <div
                                    class="p-2.5 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 rounded-xl group-hover:scale-110 transition-transform">
                                    <i data-lucide="credit-card" class="w-5 h-5"></i></div>
                                <span class="font-bold text-sm text-slate-800 dark:text-slate-200">Fee Status</span>
                            </div>
                            <span
                                class="text-[10px] font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/30 border border-emerald-200 dark:border-emerald-800 px-2 py-1 rounded-md uppercase tracking-wider">Clear</span>
                        </div>

                        <div
                            class="flex items-center justify-between p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl hover:border-orange-500 dark:hover:border-orange-500 transition-all cursor-pointer group hover:shadow-md">
                            <div class="flex items-center gap-4">
                                <div
                                    class="p-2.5 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 rounded-xl group-hover:scale-110 transition-transform">
                                    <i data-lucide="life-buoy" class="w-5 h-5"></i></div>
                                <span class="font-bold text-sm text-slate-800 dark:text-slate-200">Help Center</span>
                            </div>
                            <i data-lucide="chevron-right"
                                class="w-4 h-4 text-slate-400 group-hover:text-orange-500 transition-colors"></i>
                        </div>
                    </div>

                    <button onclick="handleLogout()"
                        class="w-full mt-10 py-4 border-2 border-red-100 dark:border-red-900/50 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/40 text-red-600 dark:text-red-400 font-bold rounded-2xl transition-all flex items-center justify-center gap-2 hover:shadow-md">
                        <i data-lucide="log-out" class="w-5 h-5"></i> Logout
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Model -->
    <div id="editProfileModal" class="fixed inset-0 z-[300] hidden flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm">
        <div class="bg-white dark:bg-slate-900 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden fade-in overscroll-none">
            <div class="p-6 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center">
                <h3 class="text-xl font-bold text-slate-900 dark:text-white">Edit Profile</h3>
                <button onclick="closeModal('editProfileModal')"
                    class="text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>
            <div class="p-8">
                <p class="text-sm text-slate-600 dark:text-slate-400 mb-6">Update your display name. Your avatar will automatically update to match your initials!</p>
                <form id="editProfileForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Full Name</label>
                        <input type="text" id="editFullName"
                            class="w-full px-4 py-2 border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"
                            placeholder="e.g. John Doe" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Email Address</label>
                        <input type="email" id="editEmail" class="w-full px-4 py-2 border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 text-slate-500 rounded-lg outline-none cursor-not-allowed" readonly>
                    </div>
                    <button type="submit" id="editSubmitBtn"
                        class="relative w-full py-3 bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700 transition-all mt-6 flex justify-center items-center overflow-hidden">
                        <span id="editBtnText" class="transition-opacity duration-300">Save Changes</span>
                        <div id="editSpinner" class="hidden absolute w-6 h-6 border-4 border-white/30 border-t-white rounded-full animate-spin"></div>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Modals (Login/Signup - Dark Mode ready) -->
    <!-- Login Modal -->
    <div id="loginModal"
        class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm">
        <div
            class="bg-white dark:bg-slate-900 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden fade-in overscroll-none">
            <div class="p-6 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center">
                <h3 class="text-xl font-bold text-slate-900 dark:text-white">Welcome Back</h3>
                <button onclick="closeModal('loginModal')"
                    class="text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800"><i
                        data-lucide="x" class="w-6 h-6"></i></button>
            </div>
            <div class="p-8">
                <form id="loginForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Email
                            Address</label>
                        <input type="email" id="loginEmail"
                            class="w-full px-4 py-2 border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"
                            required>
                    </div>
                    <!-- <div>
                        <label
                            class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Password</label>
                        <input type="password" id="loginPassword"
                            class="w-full px-4 py-2 border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"
                            required>
                    </div> -->
                    <div>
                        <div class="flex justify-between items-center mb-1">
                            <label class="block text-sm font-medium text-slate-700 dark:text-slate-300">Password</label>
                            <button type="button" onclick="switchModal('loginModal', 'forgotPasswordModal')"
                                class="text-xs text-blue-600 font-bold hover:underline">Forgot Password?</button>
                        </div>
                        <input type="password" id="loginPassword"
                            class="w-full px-4 py-2 border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"
                            required>
                    </div>
                    <!-- <button type="submit"
                        class="w-full py-3 bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700 transition-all mt-2">Login</button> -->
                    <button type="submit" id="loginSubmitBtn"
                        class="relative w-full py-3 bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700 transition-all mt-2 flex justify-center items-center overflow-hidden">
                        <span id="loginBtnText" class="transition-opacity duration-300">Login</span>
                        <div id="loginSpinner"
                            class="hidden absolute w-6 h-6 border-4 border-white/30 border-t-white rounded-full animate-spin">
                        </div>
                    </button>
                    <div class="relative my-6">
                        <div class="absolute inset-0 flex items-center">
                            <div class="w-full border-t border-slate-200 dark:border-slate-700"></div>
                        </div>
                        <div class="relative flex justify-center text-sm"><span
                                class="px-2 bg-white dark:bg-slate-900 text-slate-500">Or continue with</span></div>
                    </div>
                    <button type="button" id="googleLoginBtn"
                        class="w-full py-3 border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-300 font-bold rounded-xl hover:bg-slate-50 dark:hover:bg-slate-800 transition-all flex items-center justify-center gap-2">
                        <svg class="w-5 h-5" viewBox="0 0 24 24">
                            <path fill="#4285F4"
                                d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" />
                            <path fill="#34A853"
                                d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" />
                            <path fill="#FBBC05"
                                d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" />
                            <path fill="#EA4335"
                                d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" />
                        </svg> Google
                    </button>
                    <p class="text-center text-sm text-slate-600 dark:text-slate-400 mt-4">Don't have an account?
                        <button type="button" onclick="switchModal('loginModal', 'signupModal')"
                            class="text-blue-600 font-bold hover:underline">Sign Up</button>
                    </p>
                </form>
            </div>
        </div>
    </div>

    <!-- Sign Up Modal -->
    <div id="signupModal"
        class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm">
        <div
            class="bg-white dark:bg-slate-900 rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden fade-in max-h-[90vh] overflow-y-auto overscroll-none">
            <div
                class="p-6 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center sticky top-0 bg-white dark:bg-slate-900 z-10">
                <h3 class="text-xl font-bold text-slate-900 dark:text-white">Create Account</h3>
                <button onclick="closeModal('signupModal')"
                    class="text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800"><i
                        data-lucide="x" class="w-6 h-6"></i></button>
            </div>
            <div class="p-8">
                <form id="signupForm" class="space-y-4">
                    <div class="grid grid-cols-3 gap-3">
                        <div class="col-span-1"><label
                                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">First
                                Name</label><input type="text" id="firstName"
                                class="w-full px-4 py-2 border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"
                                required></div>
                        <div class="col-span-1"><label
                                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Middle</label><input
                                type="text" id="middleName"
                                class="w-full px-4 py-2 border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                        </div>
                        <div class="col-span-1"><label
                                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Last
                                Name</label><input type="text" id="lastName"
                                class="w-full px-4 py-2 border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"
                                required></div>
                    </div>
                    <div><label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Email
                            Address</label><input type="email" id="signupEmail"
                            class="w-full px-4 py-2 border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"
                            required></div>
                    <div class="grid grid-cols-2 gap-4">
                        <div><label
                                class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Password</label><input
                                type="password" id="signupPassword"
                                class="w-full px-4 py-2 border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"
                                required></div>
                        <div><label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Confirm
                                Password</label><input type="password" id="confirmPassword"
                                class="w-full px-4 py-2 border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"
                                required></div>
                    </div>
                    <!-- <button type="submit"
                        class="w-full py-3 bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700 transition-all mt-4">Create
                        Account</button> -->
                    <button type="submit" id="signupSubmitBtn"
                        class="relative w-full py-3 bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700 transition-all mt-4 flex justify-center items-center overflow-hidden">
                        <span id="signupBtnText" class="transition-opacity duration-300">Create Account</span>
                        <div id="signupSpinner"
                            class="hidden absolute w-6 h-6 border-4 border-white/30 border-t-white rounded-full animate-spin">
                        </div>
                    </button>
                    <div class="relative my-6">
                        <div class="absolute inset-0 flex items-center">
                            <div class="w-full border-t border-slate-200 dark:border-slate-700"></div>
                        </div>
                        <div class="relative flex justify-center text-sm"><span
                                class="px-2 bg-white dark:bg-slate-900 text-slate-500">Or sign up with</span></div>
                    </div>
                    <button type="button" id="googleSignupBtn"
                        class="w-full py-3 border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-300 font-bold rounded-xl hover:bg-slate-50 dark:hover:bg-slate-800 transition-all flex items-center justify-center gap-2">
                        <svg class="w-5 h-5" viewBox="0 0 24 24">
                            <path fill="#4285F4"
                                d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" />
                            <path fill="#34A853"
                                d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" />
                            <path fill="#FBBC05"
                                d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" />
                            <path fill="#EA4335"
                                d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" />
                        </svg> Google
                    </button>
                    <p class="text-center text-sm text-slate-600 dark:text-slate-400 mt-4">Already have an account?
                        <button type="button" onclick="switchModal('signupModal', 'loginModal')"
                            class="text-blue-600 font-bold hover:underline">Login</button>
                    </p>
                </form>
            </div>
        </div>
    </div>

    <!-- Forgot Password Model -->
    <div id="forgotPasswordModal"
        class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm">
        <div
            class="bg-white dark:bg-slate-900 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden fade-in overscroll-none">
            <div class="p-6 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center">
                <h3 class="text-xl font-bold text-slate-900 dark:text-white">Reset Password</h3>
                <button onclick="closeModal('forgotPasswordModal')"
                    class="text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800"><i
                        data-lucide="x" class="w-6 h-6"></i></button>
            </div>
            <div class="p-8">
                <p class="text-sm text-slate-600 dark:text-slate-400 mb-6">Enter your email address and we'll send you a
                    link to reset your password.</p>
                <form id="forgotPasswordForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Email
                            Address</label>
                        <input type="email" id="resetEmail"
                            class="w-full px-4 py-2 border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"
                            required>
                    </div>
                    <button type="submit" id="resetSubmitBtn"
                        class="relative w-full py-3 bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700 transition-all mt-4 flex justify-center items-center overflow-hidden">
                        <span id="resetBtnText" class="transition-opacity duration-300">Send Reset Link</span>
                        <div id="resetSpinner"
                            class="hidden absolute w-6 h-6 border-4 border-white/30 border-t-white rounded-full animate-spin">
                        </div>
                    </button>
                    <p class="text-center text-sm text-slate-600 dark:text-slate-400 mt-4">
                        Remember your password? <button type="button"
                            onclick="switchModal('forgotPasswordModal', 'loginModal')"
                            class="text-blue-600 font-bold hover:underline">Back to Login</button>
                    </p>
                </form>
            </div>
        </div>
    </div>

    <!-- Marksheet Modal -->
    <div id="marksheetModal"
        class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm">
        <div class="bg-white dark:bg-slate-900 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden fade-in">
            <div class="bg-slate-900 p-6 flex justify-between items-center text-white">
                <h3 class="text-xl font-bold flex items-center gap-2"><i data-lucide="download" class="w-5 h-5"></i>
                    Download Document</h3>
                <button onclick="closeModal('marksheetModal')" class="hover:bg-slate-800 p-1 rounded"><i data-lucide="x"
                        class="w-6 h-6"></i></button>
            </div>
            <div class="p-8">
                <p class="text-slate-600 dark:text-slate-400 text-sm mb-6">Enter details to access your verified
                    Certificate/Marksheet.</p>
                <form class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Registration
                            No.</label>
                        <input type="text"
                            class="w-full px-4 py-2 border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"
                            placeholder="NIAT/2024/XXX">
                    </div>
                    <button type="button" onclick="closeModal('marksheetModal')"
                        class="w-full py-3 bg-emerald-600 text-white font-bold rounded-xl shadow-lg hover:bg-emerald-700 transition-all mt-2 flex justify-center items-center gap-2">
                        <i data-lucide="download" class="w-4 h-4"></i> Verify & Download
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- NEW: Course Details Modal -->
    <div id="courseDetailsModal"
        class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4 bg-black/60 backdrop-blur-md transition-all duration-300">
        <div
            class="bg-white dark:bg-slate-900 rounded-2xl w-full max-w-2xl shadow-2xl overflow-hidden fade-in max-h-[90vh] overflow-y-auto overscroll-none">
            <div class="relative">
                <div class="h-32 bg-gradient-to-r from-blue-600 to-indigo-700"></div>
                <button onclick="closeModal('courseDetailsModal')"
                    class="absolute top-4 right-4 bg-black/20 hover:bg-black/40 text-white p-1 rounded-full backdrop-blur-sm transition-all"><i
                        data-lucide="x" class="w-6 h-6"></i></button>
                <div class="px-8 -mt-10 mb-6 flex justify-between items-end">
                    <div id="detailIconWrapper" class="p-4 bg-white dark:bg-slate-800 rounded-2xl shadow-lg"><i
                            data-lucide="book-open" class="w-10 h-10 text-blue-600 dark:text-blue-400"></i></div>
                    <div class="flex gap-2">
                        <span
                            class="px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full">Certified</span>
                        <span class="px-3 py-1 bg-blue-100 text-blue-700 text-xs font-bold rounded-full">Job
                            Ready</span>
                    </div>
                </div>
            </div>
            <div class="px-8 pb-8">
                <h2 id="detailTitle" class="text-2xl font-bold text-slate-900 dark:text-white mb-2">Course Title</h2>
                <div class="flex items-center gap-4 text-sm text-slate-500 dark:text-slate-400 mb-6">
                    <span class="flex items-center gap-1"><i data-lucide="clock" class="w-4 h-4"></i> <span
                            id="detailDuration">3 Months</span></span>
                    <span class="flex items-center gap-1"><i data-lucide="users" class="w-4 h-4"></i> <span
                            id="detailStudents">120+ Students</span></span>
                    <span class="flex items-center gap-1"><i data-lucide="star"
                            class="w-4 h-4 text-amber-400 fill-current"></i> <span id="detailRating">4.8</span></span>
                </div>

                <div class="space-y-6">
                    <div>
                        <h4 class="text-sm font-bold text-slate-900 dark:text-white uppercase tracking-wider mb-2">
                            Description</h4>
                        <p id="detailDesc" class="text-slate-600 dark:text-slate-300 leading-relaxed text-sm">Course
                            description goes here.</p>
                    </div>
                    <div class="mt-8 pt-6 border-t border-slate-100 dark:border-slate-800">
                        <button id="detailRegisterBtn"
                            class="w-full py-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl shadow-lg transition-all flex items-center justify-center gap-2">
                            Register Now <i data-lucide="arrow-right" class="w-5 h-5"></i>
                        </button>
                    </div>
                    <div>
                        <h4 class="text-sm font-bold text-slate-900 dark:text-white uppercase tracking-wider mb-2">What
                            You'll Learn</h4>
                        <ul id="detailModules"
                            class="grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm text-slate-600 dark:text-slate-300">
                            <!-- Modules injected via JS -->
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Search Button -->
    <div id="search-overlay">
        <div class="absolute inset-0 cursor-pointer" onclick="toggleSearch()"></div>

        <div class="search-box-wrapper h-16 px-6 relative z-10">
            <i data-lucide="search" class="w-6 h-6 text-slate-400 min-w-[24px]"></i>
            <input type="text" id="globalSearchInput"
                class="w-full h-full bg-transparent border-none outline-none px-4 text-lg text-slate-800 dark:text-white placeholder-slate-400 font-medium"
                placeholder="Type to find courses, teachers..."
                onkeydown="if(event.key === 'Enter') handleSearch(this.value)">

            <div class="flex items-center gap-2">
                <button onclick="handleSearch(document.getElementById('globalSearchInput').value)"
                    class="p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-full transition-colors">
                    <i data-lucide="arrow-right" class="w-5 h-5"></i>
                </button>
                <button onclick="toggleSearch()" class="p-2 text-slate-400 hover:text-red-500 transition-colors">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({
            duration: 800,   // Animation duration in milliseconds
            once: true,      // Whether animation should happen only once - while scrolling down
            offset: 100,     // Offset (in px) from the original trigger point
            easing: 'ease-out-cubic', // Easing function
        });
    </script>

    <script>
        // // Search
        // function toggleSearch() {
        //     document.getElementById('searchBar').classList.toggle('active');
        //     if (document.getElementById('searchBar').classList.contains('active')) {
        //         document.getElementById('searchInput').focus();
        //     }
        // }

        // --- UNIFIED SEARCH LOGIC ---

        function toggleSearch() {
            const overlay = document.getElementById('search-overlay');
            const input = document.getElementById('globalSearchInput');
            const body = document.body;

            // Toggle Active State
            overlay.classList.toggle('active');

            if (overlay.classList.contains('active')) {
                // OPENING
                body.style.overflow = 'hidden'; // Stop background scrolling
                setTimeout(() => input.focus(), 100); // Focus input after animation starts
            } else {
                // CLOSING
                body.style.overflow = ''; // Restore scrolling
                input.value = ''; // Optional: Clear input on close
            }
        }

        // Notification
        function toggleNotification() {
            document.getElementById('notification-popup').classList.toggle('active');
        }

        // Profile Animation Logic
        function openProfile() {
            const overlay = document.getElementById('profile-overlay');
            const backdrop = document.getElementById('profile-backdrop');
            const sidebar = document.getElementById('profile-sidebar');

            // Close notification if open
            document.getElementById('notification-popup').classList.remove('active');

            // 1. Unhide the container
            overlay.classList.remove('hidden');

            // 2. Lock body scrolling
            document.body.style.overflow = 'hidden';

            // 3. Force browser reflow to ensure the transition plays
            void overlay.offsetWidth;

            // 4. Trigger animations (fade in backdrop, slide in sidebar)
            backdrop.classList.remove('opacity-0');
            sidebar.classList.remove('translate-x-full');
        }

        function closeProfile() {
            const overlay = document.getElementById('profile-overlay');
            const backdrop = document.getElementById('profile-backdrop');
            const sidebar = document.getElementById('profile-sidebar');

            // 1. Trigger animations (fade out backdrop, slide out sidebar)
            backdrop.classList.add('opacity-0');
            sidebar.classList.add('translate-x-full');

            // 2. Wait for the CSS transition to finish before hiding the container
            setTimeout(() => {
                overlay.classList.add('hidden');
                document.body.style.overflow = ''; // Unlock scrolling
            }, 300); // 300ms matches the Tailwind duration
        }

        // // Search Filter Logic
        // document.getElementById('searchInput').addEventListener('keyup', function (e) {
        //     const term = e.target.value.toLowerCase();
        //     const courses = document.querySelectorAll('.course-card');
        //     courses.forEach(card => {
        //         const title = card.querySelector('.course-title').textContent.toLowerCase();
        //         if (title.includes(term)) {
        //             card.style.display = 'flex';
        //         } else {
        //             card.style.display = 'none';
        //         }
        //     });
        //     // Auto scroll to courses if typing
        //     if (term.length > 2) scrollToSection('courses');
        // });

        // The Smart Search Engine
        function handleSearch(query) {
            if (!query || query.trim() === "") return;
            query = query.toLowerCase().trim();

            // define elements to search within
            const searchableElements = document.querySelectorAll('h1, h2, h3, h4, .course-title, p');
            let found = false;

            for (let el of searchableElements) {
                // Skip hidden elements
                if (el.offsetParent === null) continue;

                if (el.textContent.toLowerCase().includes(query)) {
                    // MATCH FOUND
                    found = true;

                    // 1. Close Overlay
                    toggleSearch();

                    // 2. Scroll to element
                    setTimeout(() => {
                        el.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }, 300); // Wait for overlay to close

                    // 3. Highlight Effect
                    const originalColor = el.style.color;
                    const originalTransition = el.style.transition;

                    setTimeout(() => {
                        el.style.transition = "all 0.5s ease";
                        el.style.color = "#2563eb"; // Flash Blue
                        el.style.transform = "scale(1.05)";
                    }, 800); // Wait for scroll to finish

                    // Reset
                    setTimeout(() => {
                        el.style.color = originalColor;
                        el.style.transform = "scale(1)";
                        setTimeout(() => { el.style.transition = originalTransition; }, 500);
                    }, 2500);

                    break; // Stop at first match
                }
            }

            if (!found) {
                // Shake animation on input if not found
                const box = document.querySelector('.search-box-wrapper');
                if (box) {
                    box.style.transform = "translateX(10px)";
                    setTimeout(() => box.style.transform = "translateX(-10px)", 100);
                    setTimeout(() => box.style.transform = "translateX(0)", 200);
                }
                // Optional: alert("No matches found");
            }
        }

        // --- COUNTER ANIMATION ---
        const counters = document.querySelectorAll('.counter');
        let hasAnimated = false; // Ensure it only runs once

        const animateCounters = () => {
            counters.forEach(counter => {
                const updateCount = () => {
                    const target = +counter.getAttribute('data-target');
                    const count = +counter.innerText;

                    // Determine increment speed (higher divisor = slower)
                    // If target is small (like 10), increment by smaller amount to prevent instant jump
                    const increment = target / 100;

                    if (count < target) {
                        counter.innerText = Math.ceil(count + increment);
                        setTimeout(updateCount, 20);
                    } else {
                        counter.innerText = target;
                    }
                };
                updateCount();
            });
        };

        // Use Intersection Observer to trigger when visible
        const sectionObserver = new IntersectionObserver((entries) => {
            if (entries[0].isIntersecting && !hasAnimated) {
                animateCounters();
                hasAnimated = true; // Stop observing after animation
            }
        }, { threshold: 0.5 }); // Trigger when 50% of the section is visible

        const statesSection = document.getElementById('states');
        if (statesSection) {
            sectionObserver.observe(statesSection);
        }

        // --- 1. Theme Logic ---
        const html = document.documentElement;
        const checkbox = document.getElementById('theme-toggle');

        // Sync the checkbox state with the theme applied in <head>
        if (html.classList.contains('dark')) {
            if (checkbox) checkbox.checked = true;
        } else {
            if (checkbox) checkbox.checked = false;
        }

        // Toggle Function (triggered by user click)
        function toggleTheme() {
            if (html.classList.contains('dark')) { html.classList.remove('dark'); localStorage.theme = 'light'; }
            else { html.classList.add('dark'); localStorage.theme = 'dark'; }
        }

        // --- 2. Icons ---
        lucide.createIcons();

        // --- 3. UI Helpers ---
        //function toggleMenu() { document.getElementById('mainMenu').classList.toggle('hidden'); }
        // --- Toggle Mobile Menu (Animation Logic) ---
        function toggleMenu() {
            const menu = document.getElementById('mainMenu');
            menu.classList.toggle('active');

            // Prevent background scrolling when menu is open
            if (menu.classList.contains('active')) {
                document.body.style.overflow = 'hidden';
            } else {
                document.body.style.overflow = '';
            }
        }
        // Robust Scroll Locking for Modals
        function preventBackgroundScroll(e) {
            // Check if the target being scrolled is the dark overlay background
            if (e.target.classList.contains('fixed') && e.target.classList.contains('inset-0')) {
                e.preventDefault();
            }
        }

        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('hidden');

            // 1. Block touch swiping (Mobile) - MUST have { passive: false }
            modal.addEventListener('touchmove', preventBackgroundScroll, { passive: false });
            // 2. Block mouse wheel/trackpad scrolling (Desktop)
            modal.addEventListener('wheel', preventBackgroundScroll, { passive: false });
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.add('hidden');

            // Remove both listeners to clean up
            modal.removeEventListener('touchmove', preventBackgroundScroll);
            modal.removeEventListener('wheel', preventBackgroundScroll);
        }

        function switchModal(currentId, targetId) {
            closeModal(currentId);
            openModal(targetId);
        }
        //function scrollToSection(id) {
        //    const el = document.getElementById(id);
        //    if (el) {
        //        el.scrollIntoView({ behavior: 'smooth' });
        //        document.getElementById('mainMenu').classList.add('hidden');
        //    }
        //}
        function scrollToSection(id) {
            const el = document.getElementById(id);
            if (el) {
                el.scrollIntoView({ behavior: 'smooth' });

                // Close the menu properly
                document.getElementById('mainMenu').classList.remove('active');
                document.body.style.overflow = ''; // Restore scrolling
            }
        }

        // --- 4. Scroll Top ---
        const scrollTopBtn = document.getElementById('scrollTopBtn');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) scrollTopBtn.classList.add('show');
            else scrollTopBtn.classList.remove('show');
        });

        // --- 5. Carousel ---
        const track = document.getElementById('carouselTrack');
        const dotsContainer = document.getElementById('carouselDots');
        const slides = track.children;
        const totalSlides = slides.length;
        let currentSlide = 0, slideInterval, dotTimer;

        for (let i = 0; i < totalSlides; i++) {
            const dot = document.createElement('div');
            dot.classList.add('w-2', 'h-2', 'bg-white/50', 'rounded-full', 'cursor-pointer', 'dot');
            dot.addEventListener('click', (e) => { e.stopPropagation(); goToSlide(i); resetTimer(); });
            dotsContainer.appendChild(dot);
        }
        function updateDots() {
            const dots = dotsContainer.children;
            for (let i = 0; i < dots.length; i++) {
                if (i === currentSlide) { dots[i].classList.add('active', 'bg-white'); dots[i].classList.remove('bg-white/50'); }
                else { dots[i].classList.remove('active', 'bg-white'); dots[i].classList.add('bg-white/50'); }
            }
        }
        function goToSlide(index) {
            currentSlide = index;
            if (currentSlide < 0) currentSlide = totalSlides - 1;
            if (currentSlide >= totalSlides) currentSlide = 0;
            track.style.transform = `translateX(${currentSlide * -100}%)`;
            updateDots();
        }
        function nextSlide() { goToSlide(currentSlide + 1); }
        function prevSlide() { goToSlide(currentSlide - 1); }
        function resetTimer() { clearInterval(slideInterval); slideInterval = setInterval(nextSlide, 5000); }
        function showDots() {
            dotsContainer.classList.add('visible');
            clearTimeout(dotTimer);
            dotTimer = setTimeout(() => dotsContainer.classList.remove('visible'), 3000);
        }
        updateDots(); resetTimer();

        // Touch
        let touchStartX = 0, touchEndX = 0;
        track.addEventListener('touchstart', e => touchStartX = e.changedTouches[0].screenX);
        track.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            if (touchStartX - touchEndX > 50) { nextSlide(); resetTimer(); }
            if (touchEndX - touchStartX > 50) { prevSlide(); resetTimer(); }
        });

        // --- 7. DYNAMIC COURSES & CATEGORIES ---

        // 1. Full Course Database (with Colors & Icons)
        //const courses = [
        //    { name: "Basics of Computer", duration: "3 Months", students: "120+", rating: "4.8", color: "blue", icon: "monitor", desc: "Master the fundamentals of computing, OS navigation, MS Office suite.", modules: ["Fundamentals", "Windows", "MS Office", "Internet"] },
        //    { name: "DTP", duration: "3 Months", students: "85+", rating: "4.9", color: "purple", icon: "book-open", desc: "Learn Desktop Publishing with CorelDraw, Photoshop, and PageMaker.", modules: ["CorelDraw", "Photoshop", "PageMaker", "Printing"] },
        //    { name: "Tally Prime & Accounting", duration: "3 Months", students: "200+", rating: "4.7", color: "emerald", icon: "bar-chart", desc: "Complete financial accounting with Tally Prime, GST & Payroll.", modules: ["Accounting", "Tally Prime", "GST", "Payroll"] },
        //    { name: "Advance Excel with MIS Report", duration: "3 Months", students: "150+", rating: "4.8", color: "green", icon: "sheet", desc: "Master advanced formulas, pivot tables, macros, and MIS reports.", modules: ["Formulas", "Pivot Tables", "Macros", "MIS"] },
        //    { name: "AI/ML using Python", duration: "3 Months", students: "60+", rating: "4.9", color: "indigo", icon: "brain", desc: "Artificial Intelligence and Machine Learning concepts using Python.", modules: ["Python", "Data Science", "ML Algos", "Neural Nets"] },
        //    { name: "Digital Marketing", duration: "3 Months", students: "90+", rating: "4.7", color: "orange", icon: "megaphone", desc: "SEO, Social Media Marketing, Content Strategy, and Ads.", modules: ["SEO", "SMM", "Content", "Ads"] },
        //    { name: "Communication Skill & Personality Development", duration: "3 Months", students: "75+", rating: "4.8", color: "pink", icon: "message-circle", desc: "Enhance soft skills, public speaking confidence, and personality.", modules: ["Speaking", "Interview", "Body Language", "Etiquette"] },
        //    { name: "Office Management with Google workspace", duration: "3 Months", students: "50+", rating: "4.6", color: "yellow", icon: "briefcase", desc: "Manage office tasks using Google Docs, Sheets, Slides, Drive.", modules: ["Docs", "Sheets", "Slides", "Collaboration"] },
        //    { name: "SDP(Skill Development Programme)", duration: "3 Months", students: "100+", rating: "4.7", color: "teal", icon: "lightbulb", desc: "Comprehensive program focused on enhancing vocational skills.", modules: ["Soft Skills", "IT Skills", "Readiness", "Comm"] },
        //    { name: "Diploma in Computer Application", duration: "6 Months", students: "110+", rating: "4.8", color: "blue", icon: "monitor", desc: "Extensive diploma covering fundamental to intermediate computer apps.", modules: ["IT Basics", "MS Office", "Internet", "Accounting"] },
        //    { name: "Advance Tally Prime with GST", duration: "6 Months", students: "80+", rating: "4.9", color: "emerald", icon: "bar-chart-3", desc: "In-depth Tally training focusing on GST implementation.", modules: ["Adv Tally", "GST Laws", "E-Way Bill", "Taxation"] },
        //    { name: "Diploma in Computer Application in Business (CAB)", duration: "6 Months", students: "70+", rating: "4.6", color: "slate", icon: "building", desc: "Computer Application in Business - bridging tech with business.", modules: ["Bus Computing", "Tally", "Excel", "E-Commerce"] },
        //    { name: "Personal Financial Literacy & Stock Market", duration: "6 Month", students: "40+", rating: "4.8", color: "green", icon: "trending-up", desc: "Personal finance, investing, and basics of stock market.", modules: ["Planning", "Stocks", "Analysis", "Investing"] },
        //    { name: "Back office Management & MIS Report", duration: "6 Months", students: "55+", rating: "4.5", color: "gray", icon: "database", desc: "Skills for backend operations, data handling, and reporting.", modules: ["Data Entry", "Excel", "MIS", "Admin"] },
        //    { name: "Data Analyst with Al Technology", duration: "6 Months", students: "95+", rating: "4.9", color: "violet", icon: "pie-chart", desc: "Data analysis using Excel, SQL, Python, and Power BI.", modules: ["SQL", "Python", "Power BI", "AI Tools"] },
        //    { name: "Advance Diploma in Computer Application", duration: "1 Year", students: "130+", rating: "4.7", color: "cyan", icon: "cpu", desc: "Advanced level diploma covering specialized computer topics.", modules: ["C/C++", "Web Design", "DBMS", "Adv Office"] },
        //    { name: "Post Graduate Diploma in Computer Application", duration: "1 Year", students: "45+", rating: "4.9", color: "rose", icon: "graduation-cap", desc: "Post-graduate level certification for advanced career roles.", modules: ["Software Eng", "Java/Python", "DBMS", "Project Mgmt"] },
        //    { name: "Advance Diploma in Financial Accounting with Taxation", duration: "1 Year", students: "60+", rating: "4.8", color: "emerald", icon: "calculator", desc: "Specialized diploma focusing on advanced accounting and tax.", modules: ["Accounting", "Taxation", "Auditing", "Corp Laws"] },
        //    { name: "Advance Diploma in Computer Application with Al Technology", duration: "18 Months", students: "85+", rating: "4.9", color: "indigo", icon: "circuit-board", desc: "Integrating traditional computer apps with modern AI tech.", modules: ["ADCA", "Intro AI", "Business AI", "Future Tech"] },
        //    { name: "Diploma in Computer Teacher Training", duration: "18 Months", students: "70+", rating: "4.7", color: "orange", icon: "presentation", desc: "Prepare for a career in teaching computer science.", modules: ["Methodology", "Psychology", "CS", "Planning"] },
        //    { name: "Master Diploma in Computer Application", duration: "24 Months", students: "40+", rating: "5.0", color: "yellow", icon: "award", desc: "The ultimate certification for mastering all computer applications.", modules: ["Full Stack", "Adv Prog", "Cloud", "Cyber Sec"] }
        //];

        // 1. Full Course Database (with Colors, Icons, Exact Syllabus & Fees)
        const courses = [
            {
                name: "Basics of Computer", duration: "3 Months", students: "120+", rating: "4.8", color: "blue", icon: "monitor",
                desc: "Master the fundamentals of computing, OS navigation, MS Office suite.",
                fee: "Admission Fee: 1000/- | Course Fee: 3000/-",
                modules: [
                    "Fundamentals of Computer",
                    "Ms-Word",
                    "Ms-Excel",
                    "Ms-Power Point",
                    "Ms Access",
                    "Internet"
                ]
            },
            {
                name: "DTP", duration: "3 Months", students: "85+", rating: "4.9", color: "purple", icon: "book-open",
                desc: "Learn Desktop Publishing with CorelDraw, Photoshop, and PageMaker.",
                fee: "Admission Fee: 1000/- | Course Fee: 3000/-",
                modules: [
                    "Fundamentals of Computer",
                    "Ms-Word",
                    "Page Maker",
                    "Leap Office",
                    "Photoshop",
                    "Internet"
                ]
            },
            {
                name: "Tally Prime & Accounting", duration: "3 Months", students: "200+", rating: "4.7", color: "emerald", icon: "bar-chart",
                desc: "Complete financial accounting with Tally Prime, GST & Payroll.",
                fee: "Admission Fee: 1000/- | Course Fee: 4000/-",
                modules: [
                    "Basic Of Accounting",
                    "Company Creation",
                    "Ledger Creation",
                    "Voucher Entry",
                    "Inventory Management",
                    "GST",
                    "Reports Analysis and Printing"
                ]
            },
            {
                name: "Advance Excel with MIS Report", duration: "3 Months", students: "150+", rating: "4.8", color: "green", icon: "sheet",
                desc: "Master advanced formulas, pivot tables, macros, and MIS reports.",
                fee: "Admission Fee: 1000/- | Course Fee: 4000/-",
                modules: [
                    "Advance Ms-Excel",
                    "Google Sheet",
                    "MIS REPORT Prepare",
                    "Presentation Skill",
                    "Printing and Internet"
                ]
            },
            {
                name: "AI/ML using Python", duration: "3 Months", students: "60+", rating: "4.9", color: "indigo", icon: "brain",
                desc: "Artificial Intelligence and Machine Learning concepts using Python.",
                fee: "",
                modules: ["Python", "Data Science", "ML Algos", "Neural Nets"]
            },
            {
                name: "Digital Marketing", duration: "3 Months", students: "90+", rating: "4.7", color: "orange", icon: "megaphone",
                desc: "SEO, Social Media Marketing, Content Strategy, and Ads.",
                fee: "",
                modules: ["SEO", "SMM", "Content", "Ads"]
            },
            {
                name: "Communication Skill & Personality Development", duration: "3 Months", students: "75+", rating: "4.8", color: "pink", icon: "message-circle",
                desc: "Enhance soft skills, public speaking confidence, and personality.",
                fee: "Admission Fee: 1000/- | Course Fee: 3000/-",
                modules: [
                    "Communication: An Introduction",
                    "Non-Verbal Communication",
                    "Effective Communication",
                    "Communication Network in an Organization-I",
                    "Communication Network in an Organization-II"
                ]
            },
            {
                name: "Office Management with Google workspace", duration: "3 Months", students: "50+", rating: "4.6", color: "yellow", icon: "briefcase",
                desc: "Manage office tasks using Google Docs, Sheets, Slides, Drive.",
                fee: "",
                modules: ["Docs", "Sheets", "Slides", "Collaboration"]
            },
            {
                name: "SDP(Skill Development Programme)", duration: "3 Months", students: "100+", rating: "4.7", color: "teal", icon: "lightbulb",
                desc: "Comprehensive program focused on enhancing vocational skills.",
                fee: "Admission Fee: 1000/- | Course Fee: 3000/-",
                modules: [
                    "Computer Fundamentals and Operating Systems",
                    "MS Office (Word, Excel, Power-Point)",
                    "Internet and Digital Communication",
                    "Communication and Personality Development",
                    "Interview Techniques and Resume Writing",
                    "Time Management and Teamwork",
                    "Internet and Digital Communication",
                    "Professional Behavior and Work Ethics"
                ]
            },
            {
                name: "Diploma in Computer Application", duration: "6 Months", students: "110+", rating: "4.8", color: "blue", icon: "monitor",
                desc: "Extensive diploma covering fundamental to intermediate computer apps.",
                fee: "Admission Fee: 2000/- | Course Fee: 6000/-",
                modules: [
                    "Fundamentals of Computer",
                    "Windows",
                    "Ms-office<br><span class='ml-4 text-slate-500'> Ms-Word</span><br><span class='ml-4 text-slate-500'> Ms-Excel</span><br><span class='ml-4 text-slate-500'> Ms-Power Point</span><br><span class='ml-4 text-slate-500'> Ms Access</span>",
                    "Adobe Page Maker 7.0 (English, Hindi, Assamese Language)",
                    "Professional Photo Editing",
                    "Web Page Designing"
                ]
            },
            {
                name: "Advance Tally Prime with GST", duration: "6 Months", students: "80+", rating: "4.9", color: "emerald", icon: "bar-chart-3",
                desc: "In-depth Tally training focusing on GST implementation.",
                fee: "Admission & Course Fees: Contact Branch",
                modules: [
                    "Advance Accounting<br><span class='ml-4 text-slate-500'> Cost centers and cost categories</span><br><span class='ml-4 text-slate-500'> Cost center class</span><br><span class='ml-4 text-slate-500'> Budgets & Controls</span><br><span class='ml-4 text-slate-500'> Variance Analysis (Budget & Actual Comparison)</span><br><span class='ml-4 text-slate-500'> Ratio Analysis</span><br><span class='ml-4 text-slate-500'> Fund Flow & Cash Flow</span><br><span class='ml-4 text-slate-500'> Information regarding TDS</span><br><span class='ml-4 text-slate-500'> Reversing and Memorandum JV</span>",
                    "Advance Inventory<br><span class='ml-4 text-slate-500'> Order Processing</span><br><span class='ml-4 text-slate-500'> Item cost tracking</span><br><span class='ml-4 text-slate-500'> Price level & price list</span><br><span class='ml-4 text-slate-500'> POS</span>",
                    "Banking<br><span class='ml-4 text-slate-500'> Electronic Payments</span><br><span class='ml-4 text-slate-500'> Sources of Financing & Collaterals</span><br><span class='ml-4 text-slate-500'> Bank reconciliation</span>",
                    "Job Costing<br><span class='ml-4 text-slate-500'> Features, Transactions, Reports</span>",
                    "Job Work Order<br><span class='ml-4 text-slate-500'> Activation & Setup</span><br><span class='ml-4 text-slate-500'> Job order processing</span>",
                    "Advance Payroll<br><span class='ml-4 text-slate-500'> Payroll & Statutory Details</span>",
                    "GSTR 1, 2, 3B<br><span class='ml-4 text-slate-500'> Returns Summary & Details</span><br><span class='ml-4 text-slate-500'> Summary of exceptions</span><br><span class='ml-4 text-slate-500'> Table wise GSTR</span>",
                    "Acces Controls & Security management",
                    "Data Synchronization"
                ]
            },
            {
                name: "Diploma in Computer Application in Business (CAB)", duration: "6 Months", students: "70+", rating: "4.6", color: "slate", icon: "building",
                desc: "Computer Application in Business - bridging tech with business.",
                fee: "Admission Fee: 2000/- | Course Fee: 10000/-",
                modules: [
                    "Basic of Accounting<br><span class='ml-4 text-slate-500'> Meaning and Objective</span><br><span class='ml-4 text-slate-500'> Types, Concepts and Conventions</span><br><span class='ml-4 text-slate-500'> Types of Accounts</span><br><span class='ml-4 text-slate-500'> Golden Rules & Accounting Cycle</span>",
                    "Business Transactions<br><span class='ml-4 text-slate-500'> Capital and Revenue</span><br><span class='ml-4 text-slate-500'> Asserts, Liabilities, Income, Expenses</span><br><span class='ml-4 text-slate-500'> Debit/Credit Rules & Journal Entries</span>",
                    "Ledger and Trial Balance<br><span class='ml-4 text-slate-500'> Ledger Posting & Balancing</span><br><span class='ml-4 text-slate-500'> Trial Balance</span><br><span class='ml-4 text-slate-500'> Errors & Rectification</span>",
                    "Final Account<br><span class='ml-4 text-slate-500'> Trading, P&L, Balance Sheet & Adjustments</span>",
                    "Introduction to Computerized Accounting",
                    "Tally (Latest Version)<br><span class='ml-4 text-slate-500'> Company & Ledger Creation</span><br><span class='ml-4 text-slate-500'> Voucher Entry, Purchase & Sales</span><br><span class='ml-4 text-slate-500'> GST Basics & Reports</span>",
                    "Banking & Taxation Basic<br><span class='ml-4 text-slate-500'> BRS</span><br><span class='ml-4 text-slate-500'> GST Overview & Registration Types</span><br><span class='ml-4 text-slate-500'> Input & Output GST</span>"
                ]
            },
            {
                name: "Personal Financial Literacy & Stock Market", duration: "6 Month", students: "40+", rating: "4.8", color: "green", icon: "trending-up",
                desc: "Personal finance, investing, and basics of stock market.",
                fee: "Admission Fee: 2000/- | Course Fee: 8000/-",
                modules: [
                    "Financial Life Circle",
                    "Financial Planning and Budgeting",
                    "Carrier and Income",
                    "Banking Product and Services",
                    "Financial Risk and Insurance",
                    "Investing in Stock Market",
                    "Personal Tax"
                ]
            },
            {
                name: "Back office Management & MIS Report", duration: "6 Months", students: "55+", rating: "4.5", color: "gray", icon: "database",
                desc: "Skills for backend operations, data handling, and reporting.",
                fee: "Admission Fee: 2000/- | Course Fee: 6000/-",
                modules: [
                    "Fundamentals of Computer",
                    "Windows",
                    "Ms-office<br><span class='ml-4 text-slate-500'> Ms-Word</span><br><span class='ml-4 text-slate-500'> Ms-Excel</span><br><span class='ml-4 text-slate-500'> Ms-Power Point</span><br><span class='ml-4 text-slate-500'> Ms-Access</span>",
                    "Google Workspace (Gmail, Meet, Sheet, Docs, Slide, Form)",
                    "Advance Excel",
                    "Power BI"
                ]
            },
            {
                name: "Data Analyst with Al Technology", duration: "6 Months", students: "95+", rating: "4.9", color: "violet", icon: "pie-chart",
                desc: "Data analysis using Excel, SQL, Python, and Power BI.",
                fee: "Admission Fee: 2000/- | Course Fee: 6000/-",
                modules: [
                    "Fundamentals of Computer",
                    "AI/ML Technology",
                    "Python",
                    "Date Analylist And Mis Report<br><span class='ml-4 text-slate-500'> Advance Excel</span><br><span class='ml-4 text-slate-500'> Power Point</span><br><span class='ml-4 text-slate-500'> Google Sheet</span>",
                    "DBMS--SQL",
                    "Power BI"
                ]
            },
            {
                name: "Advance Diploma in Computer Application", duration: "1 Year", students: "130+", rating: "4.7", color: "cyan", icon: "cpu",
                desc: "Advanced level diploma covering specialized computer topics.",
                fee: "Admission Fee: 2000/- | Course Fee: 12000/-",
                modules: [
                    "1st Sem:<br><span class='ml-4 text-slate-500'> Fundamentals of Computer</span><br><span class='ml-4 text-slate-500'> Windows</span><br><span class='ml-4 text-slate-500'> Ms-office (Word, Excel, Power Point, Access)</span><br><span class='ml-4 text-slate-500'> Adobe Page Maker 7.0</span><br><span class='ml-4 text-slate-500'> Professional Photo Editing</span><br><span class='ml-4 text-slate-500'> Web Page Designing</span>",
                    "2nd Sem:<br><span class='ml-4 text-slate-500'> Programming C & C++</span><br><span class='ml-4 text-slate-500'> Basic of Accounting</span><br><span class='ml-4 text-slate-500'> Tally ERP 9/Prime</span><br><span class='ml-4 text-slate-500'> Taxation (GST, TCS, TDS)</span><br><span class='ml-4 text-slate-500'> Basic Hardware (Assemble/Dissemble, Trouble Shooting, Software Install)</span>"
                ]
            },
            {
                name: "Post Graduate Diploma in Computer Application", duration: "1 Year", students: "45+", rating: "4.9", color: "rose", icon: "graduation-cap",
                desc: "Post-graduate level certification for advanced career roles.",
                fee: "Admission Fee: 2000/- | Course Fee: 12000/-",
                modules: [
                    "1st Sem:<br><span class='ml-4 text-slate-500'> Fundamentals of Computer</span><br><span class='ml-4 text-slate-500'> Windows</span><br><span class='ml-4 text-slate-500'> Ms-office (Word, Excel, Power Point, Access)</span><br><span class='ml-4 text-slate-500'> Adobe Page Maker 7.0</span><br><span class='ml-4 text-slate-500'> Professional Photo Editing</span><br><span class='ml-4 text-slate-500'> Web Page Designing</span>",
                    "2nd Sem:<br><span class='ml-4 text-slate-500'> Programming C & C++</span><br><span class='ml-4 text-slate-500'> Basic of Accounting</span><br><span class='ml-4 text-slate-500'> Tally ERP 9/Prime</span><br><span class='ml-4 text-slate-500'> Taxation (GST, TCS, TDS)</span><br><span class='ml-4 text-slate-500'> DBMS</span><br><span class='ml-4 text-slate-500'> Basic Hardware (Assemble/Dissemble, Trouble Shooting, Software Install)</span>"
                ]
            },
            {
                name: "Advance Diploma in Financial Accounting with Taxation", duration: "1 Year", students: "60+", rating: "4.8", color: "emerald", icon: "calculator",
                desc: "Specialized diploma focusing on advanced accounting and tax.",
                fee: "",
                modules: ["Accounting", "Taxation", "Auditing", "Corp Laws"]
            },
            {
                name: "Advance Diploma in Computer Application with Al Technology", duration: "18 Months", students: "85+", rating: "4.9", color: "indigo", icon: "circuit-board",
                desc: "Integrating traditional computer apps with modern AI tech.",
                fee: "Admission Fee: 2000/- | Course Fee: 18000/-",
                modules: [
                    "1st Sem (DCA):<br><span class='ml-4 text-slate-500'> Fundamentals, Windows, Ms-office</span><br><span class='ml-4 text-slate-500'> DTP (PageMaker, Photoshop, Typing)</span><br><span class='ml-4 text-slate-500'> Banner and Flex Designing</span><br><span class='ml-4 text-slate-500'> Scanning and Printing</span>",
                    "2nd Sem (ADCA):<br><span class='ml-4 text-slate-500'> Web Designing through HTML</span><br><span class='ml-4 text-slate-500'> Programming C and C++</span><br><span class='ml-4 text-slate-500'> Basic of Accounting & Tally Prime</span><br><span class='ml-4 text-slate-500'> Taxation (GST, TCS, TDS)</span><br><span class='ml-4 text-slate-500'> Computer Hardware & Project</span>",
                    "3rd Sem (ADCA With AI Technology):<br><span class='ml-4 text-slate-500'> AI/ML Technology & Python</span><br><span class='ml-4 text-slate-500'> Data Analyst And Mis Report</span><br><span class='ml-4 text-slate-500'> DBMS--SQL & POWER BI</span><br><span class='ml-4 text-slate-500'> Communication Skill & Personality Development</span><br><span class='ml-4 text-slate-500'> Project</span>"
                ]
            },
            {
                name: "Diploma in Computer Teacher Training", duration: "18 Months", students: "70+", rating: "4.7", color: "orange", icon: "presentation",
                desc: "Prepare for a career in teaching computer science.",
                fee: "Admission Fee: 2000/- | Course Fee: 18000/-",
                modules: [
                    "1st Sem:<br><span class='ml-4 text-slate-500'> Fundamentals, Windows, Ms-office</span><br><span class='ml-4 text-slate-500'> Adobe Page Maker 7.0 & Photo Editing</span><br><span class='ml-4 text-slate-500'> Web Page Designing</span>",
                    "2nd Sem:<br><span class='ml-4 text-slate-500'> Programming C & C++</span><br><span class='ml-4 text-slate-500'> Basic of Accounting & Tally ERP 9/Prime</span><br><span class='ml-4 text-slate-500'> Taxation (GST, TCS, TDS)</span><br><span class='ml-4 text-slate-500'> Hardware (Assemble, Trouble Shooting, Installation)</span>",
                    "3rd Sem (Teaching Methodology):<br><span class='ml-4 text-slate-500'> Role of a Computer Teacher</span><br><span class='ml-4 text-slate-500'> Lesson Planning & Curriculum Development</span><br><span class='ml-4 text-slate-500'> Effective Teaching & Student Engagement</span><br><span class='ml-4 text-slate-500'> Online Teaching Tools & Digital Learning</span><br><span class='ml-4 text-slate-500'> E-Learning & LMS (Kahoot, Classroom, Zoom)</span>"
                ]
            },
            {
                name: "Master Diploma in Computer Application", duration: "24 Months", students: "40+", rating: "5.0", color: "yellow", icon: "award",
                desc: "The ultimate certification for mastering all computer applications.",
                fee: "Admission Fee: 2000/- | Course Fee: 22000/-",
                modules: [
                    "1st Sem (DCA):<br><span class='ml-4 text-slate-500'> Fundamentals, Windows, Ms-office</span><br><span class='ml-4 text-slate-500'> DTP, Banner/Flex Designing, Printing</span>",
                    "2nd Sem (ADCA):<br><span class='ml-4 text-slate-500'> HTML, C and C++, Accounting</span><br><span class='ml-4 text-slate-500'> Tally Prime, Taxation, Hardware</span>",
                    "3rd Sem (ADCA With AI Technology):<br><span class='ml-4 text-slate-500'> AI/ML Technology, Python</span><br><span class='ml-4 text-slate-500'> Date Analylist And Mis Report</span><br><span class='ml-4 text-slate-500'> DBMS--SQL, Communication Skill</span>",
                    "4th Sem (MDCA Coure):<br><span class='ml-4 text-slate-500'> Web--CCS, Visual Programming</span><br><span class='ml-4 text-slate-500'> Java Programming</span><br><span class='ml-4 text-slate-500'> DBMS-Oracle</span><br><span class='ml-4 text-slate-500'> Final Project</span>"
                ]
            }
        ];

        // 2. Helper: Categorize Course based on Duration string
        function getCategoryForCourse(c) {
            const d = c.duration.toLowerCase();
            if (d.includes("3 month")) return "Three Month";
            if (d.includes("6 month")) return "Six Month";
            // Catches "1 Year" or "12 Months"
            if (d.includes("1 year") || d.includes("12 month")) return "One Year";
            // Everything else (1mo, 2mo, 4mo, 15mo, 18mo) goes to Special
            return "Special";
        }

        // 3. Helper: Generate Card HTML (UPDATED WITH ANIMATION)
        function renderCardHTML(c, index) {
            // data-aos="fade-up" makes it slide up
            // data-aos-delay calculates a delay so they appear one by one
            const aosDelay = index * 100;

            return `
            <div class="h-full" data-aos="fade-up" data-aos-delay="${aosDelay}">
                <div class="h-full flex flex-col bg-slate-50 dark:bg-slate-800 rounded-3xl overflow-hidden shadow-sm hover:shadow-2xl transition-all duration-300 border border-slate-200 dark:border-slate-700 group flex flex-col hover:-translate-y-2">
                    <div class="h-2 w-full bg-${c.color}-500"></div>
                    <div class="p-8 flex-grow">
                        <div class="flex justify-between items-start mb-4">
                            <div class="p-4 rounded-2xl bg-white dark:bg-slate-700 transition-all duration-300 group-hover:scale-110 shadow-sm">
                                <i data-lucide="${c.icon}" class="w-8 h-8 text-${c.color}-500 dark:text-${c.color}-400"></i>
                            </div>
                            <div class="flex items-center gap-1 bg-white dark:bg-slate-700 px-2 py-1 rounded-lg border border-slate-100 dark:border-slate-600">
                                <i data-lucide="star" class="w-4 h-4 text-amber-400 fill-current"></i>
                                <span class="text-sm font-bold text-slate-700 dark:text-slate-200">${c.rating}</span>
                            </div>
                        </div>
                        <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-3">${c.name}</h3>
                        <p class="text-slate-600 dark:text-slate-400 text-sm mb-6">${c.desc}</p>
                        <div class="flex items-center gap-4 text-sm text-slate-500 dark:text-slate-400">
                            <div class="flex items-center gap-1"><i data-lucide="clock" class="w-4 h-4"></i> ${c.duration}</div>
                            <div class="flex items-center gap-1"><i data-lucide="users" class="w-4 h-4"></i> ${c.students}</div>
                        </div>
                    </div>
                    <div class="p-8 pt-0 mt-auto space-y-3">
                        <button onclick="openCourseDetails('${c.name}')" class="w-full py-3 px-6 bg-${c.color}-50 dark:bg-${c.color}-900/30 text-${c.color}-700 dark:text-${c.color}-300 font-semibold rounded-xl hover:bg-${c.color}-100 dark:hover:bg-${c.color}-900/50 transition-all text-sm">See Details</button>
                        <button onclick="handleRegister('${c.name}')" class="w-full py-3 px-6 text-white font-semibold rounded-xl shadow-md flex items-center justify-center gap-2 bg-${c.color}-600 hover:bg-${c.color}-700">Register Now <i data-lucide="arrow-right" class="w-4 h-4"></i></button>
                    </div>
                </div>
            </div>`;
        }

        // 4. Main Filter Function
        function filterCourses(cat) {
            // Update Active Tab State
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            const btnId = cat === 'Three Month' ? 'btn-three' : cat === 'Six Month' ? 'btn-six' : cat === 'One Year' ? 'btn-year' : cat === 'Special' ? 'btn-special' : 'btn-all';
            document.getElementById(btnId).classList.add('active');

            let filtered = [];
            if (cat === 'all') {
                // For "All", sort by Rating (High to Low)
                filtered = [...courses].sort((a, b) => parseFloat(b.rating) - parseFloat(a.rating));
            } else {
                // Filter by category
                filtered = courses.filter(c => getCategoryForCourse(c) === cat);
            }

            const mainGrid = document.getElementById('dynamicCourseGrid');
            const hiddenGrid = document.getElementById('moreCoursesContainer');
            const viewAllWrapper = document.getElementById('viewAllWrapper');
            const viewAllBtn = document.getElementById('viewAllBtn');

            // Clear old content
            mainGrid.innerHTML = '';
            hiddenGrid.innerHTML = '';
            hiddenGrid.classList.add('hidden');
            viewAllBtn.textContent = "View All Courses";

            // Render first 6 items
            const initialCount = Math.min(filtered.length, 6);
            for (let i = 0; i < initialCount; i++) {
                mainGrid.innerHTML += renderCardHTML(filtered[i], i);
            }

            // If more than 6, populate hidden grid and show button
            if (filtered.length > 6) {
                viewAllWrapper.classList.remove('hidden');
                for (let i = 6; i < filtered.length; i++) {
                    hiddenGrid.innerHTML += renderCardHTML(filtered[i], 0); // index 0 resets delay for smooth reveal later
                }
            } else {
                viewAllWrapper.classList.add('hidden');
            }

            lucide.createIcons();
        }

        // 5. Toggle View More (with animation)
        function toggleViewMore() {
            const more = document.getElementById('moreCoursesContainer');
            const btn = document.getElementById('viewAllBtn');

            if (more.classList.contains('hidden')) {
                // OPEN
                more.classList.remove('hidden');

                // Animate ONLY new cards
                Array.from(more.children).forEach((card, index) => {
                    card.style.opacity = '0';
                    card.style.animation = 'none';
                    card.offsetHeight; // trigger reflow
                    card.style.animation = `fadeInUp 0.5s ease-out forwards ${index * 50}ms`;
                });

                btn.textContent = "View Less Courses";
            } else {
                // CLOSE
                more.classList.add('hidden');
                btn.textContent = "View All Courses";
                document.getElementById('courses').scrollIntoView({ behavior: 'smooth' });
            }
        }

        // 6. Updated Open Details (Finds by name in array)
        function openCourseDetails(courseName) {
            const data = courses.find(c => c.name === courseName);
            if (!data) return;

            document.getElementById('detailTitle').textContent = data.name;
            //document.getElementById('detailDesc').textContent = data.desc;
            document.getElementById('detailDuration').textContent = data.duration;
            document.getElementById('detailStudents').textContent = data.students + " Students";
            document.getElementById('detailRating').textContent = data.rating;

            // Display Fee dynamically if it exists
            const descElement = document.getElementById('detailDesc');
            if (data.fee && data.fee !== "") {
                descElement.innerHTML = `${data.desc} <br><br> <span class="inline-block bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-4 py-2 rounded-lg font-bold border border-blue-200 dark:border-blue-800 text-sm tracking-wide shadow-sm">${data.fee}</span>`;
            } else {
                descElement.innerHTML = data.desc;
            }

            // Fix Icon color/type dynamically
            const iconWrapper = document.getElementById('detailIconWrapper');
            if (iconWrapper) {
                iconWrapper.innerHTML = `<i data-lucide="${data.icon}" class="w-10 h-10 text-${data.color}-600 dark:text-${data.color}-400"></i>`;
            }

            // Display modules, changed grid class to block to allow long sub-topics room to breathe
            const modulesList = document.getElementById('detailModules');
            modulesList.className = 'space-y-3 text-sm text-slate-600 dark:text-slate-300 mt-4';
            modulesList.innerHTML = '';

            data.modules.forEach(mod => {
                const li = document.createElement('li');
                li.className = 'flex items-start gap-3 bg-slate-50 dark:bg-slate-800/50 p-3 rounded-xl border border-slate-100 dark:border-slate-700';
                li.innerHTML = `<i data-lucide="check-circle-2" class="w-5 h-5 text-${data.color}-500 mt-0.5 shrink-0"></i> <div class="leading-relaxed font-medium">${mod}</div>`;
                modulesList.appendChild(li);
            });
            lucide.createIcons();

            const regBtn = document.getElementById('detailRegisterBtn');
            regBtn.onclick = () => handleRegister(data.name);

            openModal('courseDetailsModal');
        }

        // INITIALIZE ON LOAD
        filterCourses('all');

        // --- 8. AUTH & REGISTER LOGIC (MERGED) ---

        let isUserLoggedIn = false;
        let userEmail = "";

        // Global function called by Firebase when auth state changes
        window.updateAuthState = function (user) {
            isUserLoggedIn = !!user;

            // Elements to toggle
            const authBtns = document.getElementById('auth-buttons');       // Desktop Navbar Buttons
            const mobileAuthBtns = document.getElementById('mobile-auth-buttons'); // Mobile Menu Buttons (The ID you just added)
            const userControls = document.getElementById('user-controls');
            const menuLogout = document.getElementById('menu-logout-btn');

            if (user) {
                // --- STATE: LOGGED IN ---
                userEmail = user.email;

                // 1. Hide Auth Buttons using Inline Styles (Overrides CSS)
                if (authBtns) authBtns.style.display = 'none';
                if (mobileAuthBtns) mobileAuthBtns.style.display = 'none';

                // 2. Show User Controls
                if (userControls) userControls.classList.remove('hidden');
                if (menuLogout) menuLogout.classList.remove('hidden');

                // 3. Update Profile Data
                const avatarUrl = user.photoURL || `https://ui-avatars.com/api/?name=${user.displayName || 'User'}&background=2563eb&color=fff`;

                const navAvatar = document.getElementById('nav-avatar');
                const profileAvatar = document.getElementById('profile-avatar-lg');
                const profileName = document.getElementById('profile-name');
                const profileEmail = document.getElementById('profile-email');

                if (navAvatar) navAvatar.src = avatarUrl;
                if (profileAvatar) profileAvatar.src = avatarUrl;
                if (profileName) profileName.textContent = user.displayName || 'Student';
                if (profileEmail) profileEmail.textContent = user.email;

            } else {
                // --- STATE: LOGGED OUT ---
                userEmail = "";

                // 1. Show Auth Buttons (Clear inline style so CSS classes take over)
                // This is the FIX: It restores 'hidden md:flex' behavior
                if (authBtns) authBtns.style.display = '';
                if (mobileAuthBtns) mobileAuthBtns.style.display = '';

                // 2. Hide User Controls
                if (userControls) userControls.classList.add('hidden');
                if (menuLogout) menuLogout.classList.add('hidden');
            }
        };

        function handleRegister(courseName = null) {
            // 1. Check Login Status
            if (!isUserLoggedIn) {
                alert("Please Login or Sign Up first to Register.");
                openModal('signupModal');
            } else {
                // 2. Redirect to the separate Registration Page
                // (We do NOT open a popup here because the form is on a different page)
                let targetUrl = `registrationForm.html?email=${encodeURIComponent(userEmail)}`;

                if (courseName) {
                    targetUrl += `&course=${encodeURIComponent(courseName)}`;
                }

                window.location.href = targetUrl;
            }
        }
        // --- NEW: EXAM APPLICATION LOGIC ---
        function handleExamApplication() {
            if (!isUserLoggedIn) {
                alert("Please Login or Sign Up first to apply for an exam.");
                openModal('signupModal'); // Prompts user to signup
            } else {
                // If logged in, redirect to the exam form page
                // FIXED: Now passes the email to the exam form
                window.location.href = `examForm.html?email=${encodeURIComponent(userEmail)}`;
            }
        }

        // --- 9. TESTIMONIAL SLIDER LOGIC ---
        let currentTestimonial = 0;
        const testimonials = document.querySelectorAll('.testimonial-slide');

        function showTestimonial(index) {
            testimonials.forEach(slide => slide.classList.add('hidden'));
            testimonials.forEach(slide => slide.classList.remove('active'));

            // Loop logic
            if (index >= testimonials.length) currentTestimonial = 0;
            else if (index < 0) currentTestimonial = testimonials.length - 1;
            else currentTestimonial = index;

            testimonials[currentTestimonial].classList.remove('hidden');
            testimonials[currentTestimonial].classList.add('active');
        }

        function nextTestimonial() {
            showTestimonial(currentTestimonial + 1);
        }

        function prevTestimonial() {
            showTestimonial(currentTestimonial - 1);
        }

        // Auto-play testimonials every 6 seconds
        setInterval(nextTestimonial, 6000);

        // --- 10. SCROLL SPY (Active Section Highlight) ---

        // 1. Select all navigation buttons (We will add the 'nav-link' class in HTML next)
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = ['home', 'about', 'courses', 'faculty', 'testimonials', 'contact', 'map'];

        //window.addEventListener('scroll', () => {
        //    let current = '';

        //    sections.forEach(id => {
        //        const section = document.getElementById(id);
        //        if (section) {
        //            const sectionTop = section.offsetTop;
        //            const sectionHeight = section.clientHeight;

        //            // Logic: If we have scrolled past 1/3 of the section
        //            if (pageYOffset >= (sectionTop - sectionHeight / 3)) {
        //                current = id;
        //            }
        //        }//
        //    });
        // 2. Define the Highlight Function
        function highlightNav() {
            let current = '';

            // Special check: If at the very top, set Home active
            if (window.scrollY < 100) {
                current = 'home';
            } else {
                sections.forEach(id => {
                    const section = document.getElementById(id);
                    if (section) {
                        const sectionTop = section.offsetTop;
                        const sectionHeight = section.clientHeight;

                        // If we are viewing this section
                        if (window.scrollY >= (sectionTop - sectionHeight / 3)) {
                            current = id;
                        }
                    }
                });
            }

            // Update classes
            navLinks.forEach(link => {
                link.classList.remove('active-section');
                // Check if this link corresponds to the current section
                if (link.getAttribute('data-section') === current) {
                    link.classList.add('active-section');
                }
            });
        }

        // 3. Run on Scroll
        window.addEventListener('scroll', highlightNav);

        // 4. Run IMMEDIATELY on Load (This fixes your issue)
        highlightNav();

    </script>

    <script type="module">
        // FIREBASE AUTH LOGIC
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut, sendPasswordResetEmail, updateProfile } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-auth.js";

        // --- NEW: CUSTOM TOAST NOTIFICATION SYSTEM ---
        window.showToast = function (message, type = 'success') {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');

            let borderClass = type === 'success' ? 'border-l-emerald-500' : (type === 'error' ? 'border-l-red-500' : 'border-l-blue-500');
            let iconName = type === 'success' ? 'check-circle' : (type === 'error' ? 'alert-circle' : 'info');
            let iconColor = type === 'success' ? 'text-emerald-500' : (type === 'error' ? 'text-red-500' : 'text-blue-500');

            toast.className = `flex items-center gap-3 p-4 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 border-l-4 ${borderClass} transform transition-all duration-500 translate-y-[-100%] opacity-0`;

            toast.innerHTML = `
                <i data-lucide="${iconName}" class="w-6 h-6 shrink-0 ${iconColor}"></i>
                <p class="text-sm font-bold text-slate-800 dark:text-white leading-tight">${message}</p>
            `;

            container.appendChild(toast);
            lucide.createIcons();

            // Animate In
            requestAnimationFrame(() => {
                toast.classList.remove('translate-y-[-100%]', 'opacity-0');
            });

            // Auto Remove After 4 Seconds
            setTimeout(() => {
                toast.classList.add('opacity-0', 'translate-y-[-20px]');
                setTimeout(() => toast.remove(), 500);
            }, 4000);
        };

        // Update existing alert functions to use Toasts
        window.handleRegister = function (courseName = null) {
            if (!isUserLoggedIn) {
                showToast("Please Login or Sign Up first to Register.", "info");
                openModal('signupModal');
            } else {
                let targetUrl = `registrationForm.html?email=${encodeURIComponent(userEmail)}`;
                if (courseName) targetUrl += `&course=${encodeURIComponent(courseName)}`;
                window.location.href = targetUrl;
            }
        };

        window.handleExamApplication = function () {
            if (!isUserLoggedIn) {
                showToast("Please Login or Sign Up first to apply for an exam.", "info");
                openModal('signupModal');
            } else {
                window.location.href = `examForm.html?email=${encodeURIComponent(userEmail)}`;
            }
        };

        // REPLACE WITH YOUR CONFIG
        const firebaseConfig = {
            apiKey: "AIzaSyCWpp7vH0FAubDAW1Gvw5LMmtEqfMIq4u0",
            authDomain: "niat-admission-form.firebaseapp.com",
            projectId: "niat-admission-form",
            storageBucket: "niat-admission-form.firebasestorage.app",
            messagingSenderId: "907218345703",
            appId: "1:907218345703:web:57e6dd3d74baab2f190c42",
            measurementId: "G-YPCVGYS7L9"
        };

        let auth;
        let provider; // Google Provider

        try {
            const app = initializeApp(firebaseConfig);
            auth = getAuth(app);
            provider = new GoogleAuthProvider(); // Initialize Google Provider

            // Listen for Auth Changes to update global state
            onAuthStateChanged(auth, (user) => {
                // Access global function to update state
                if (window.updateAuthState) {
                    window.updateAuthState(user);
                }

                if (user) {
                    console.log("User Logged In:", user.email);
                    // Optional: Auto-close modals if open
                    closeModal('loginModal');
                    closeModal('signupModal');
                } else {
                    console.log("User Signed Out");
                }
            });

        } catch (error) {
            console.error("Firebase Config Error:", error);
        }

        // --- LOGOUT FUNCTION (FIXED) ---
        window.handleLogout = async () => {
            if (!auth) return;
            try {
                await signOut(auth);
                showToast("You have been successfully logged out.", "info");

                // Close UI elements
                if (typeof closeProfile === 'function') closeProfile();

                // Force menu to close if it is open
                const menu = document.getElementById('mainMenu');
                if (menu && menu.classList.contains('active')) {
                    menu.classList.remove('active');
                    document.body.style.overflow = '';
                }

                // Redirect to Home section smoothly
                if (typeof scrollToSection === 'function') {
                    scrollToSection('home');
                } else {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }

            } catch (error) {
                showToast("Logout Error: " + error.message, "error");
            }
        };

        // --- EMAIL SIGN UP WITH SPINNER ---
        const signupForm = document.getElementById('signupForm');
        if (signupForm) {
            signupForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const email = document.getElementById('signupEmail').value;
                const password = document.getElementById('signupPassword').value;
                const confirmPassword = document.getElementById('confirmPassword').value; // Get confirm password

                const btnText = document.getElementById('signupBtnText');
                const spinner = document.getElementById('signupSpinner');
                const submitBtn = document.getElementById('signupSubmitBtn');

                if (!auth) { showToast("System configuration error.", "error"); return; }

                // Add quick validation
                if (password !== confirmPassword) {
                    showToast("Passwords do not match.", "error");
                    return;
                }
                if (password.length < 6) {
                    showToast("Password should be at least 6 characters.", "error");
                    return;
                }

                // Show Spinner
                btnText.classList.add('opacity-0');
                spinner.classList.remove('hidden');
                submitBtn.disabled = true;

                try {
                    await createUserWithEmailAndPassword(auth, email, password);
                    await signOut(auth); // Prevent auto-login

                    showToast("Account created successfully! Please log in to continue.", "success");
                    switchModal('signupModal', 'loginModal');
                    document.getElementById('loginEmail').value = email;
                    document.getElementById('signupForm').reset(); // Clear form
                } catch (error) {
                    // Clean Firebase Error Handling
                    let errorMsg = "Failed to create account.";
                    if (error.code === 'auth/email-already-in-use') {
                        errorMsg = "This email is already registered. Please log in.";
                    } else if (error.code === 'auth/invalid-email') {
                        errorMsg = "Please enter a valid email address.";
                    }
                    showToast(errorMsg, "error");
                } finally {
                    // Hide Spinner
                    btnText.classList.remove('opacity-0');
                    spinner.classList.add('hidden');
                    submitBtn.disabled = false;
                }
            });
        }

        // --- EMAIL LOGIN WITH SPINNER (ROBUST ERROR HANDLING) ---
        const loginForm = document.getElementById('loginForm');
        if (loginForm) {
            loginForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const email = document.getElementById('loginEmail').value.trim();
                const password = document.getElementById('loginPassword').value;
                const btnText = document.getElementById('loginBtnText');
                const spinner = document.getElementById('loginSpinner');
                const submitBtn = document.getElementById('loginSubmitBtn');

                if (!auth) { showToast("System configuration error.", "error"); return; }

                // Show Spinner
                btnText.classList.add('opacity-0');
                spinner.classList.remove('hidden');
                submitBtn.disabled = true;

                try {
                    await signInWithEmailAndPassword(auth, email, password);
                    showToast("Welcome back! You are successfully logged in.", "success");
                    closeModal('loginModal');
                    document.getElementById('loginForm').reset(); // Clear form
                } catch (error) {
                    // EXACT FIREBASE ERROR HANDLING
                    let errorMsg = "Login failed. Please try again.";

                    switch (error.code) {
                        case 'auth/invalid-email':
                            errorMsg = "The email address you entered is not valid.";
                            break;
                        case 'auth/user-not-found':
                            errorMsg = "No account found with this email. Please sign up first.";
                            break;
                        case 'auth/wrong-password':
                            errorMsg = "Incorrect password. Please try again or reset it.";
                            break;
                        case 'auth/invalid-credential':
                            // This is the default error if Email Enumeration Protection is ON
                            errorMsg = "Invalid email or password. Please check your details.";
                            break;
                        case 'auth/user-disabled':
                            errorMsg = "This account has been disabled by the administrator.";
                            break;
                        case 'auth/too-many-requests':
                            errorMsg = "Too many failed attempts. Your account is temporarily locked. Please reset your password or try later.";
                            break;
                        case 'auth/network-request-failed':
                            errorMsg = "Network error. Please check your internet connection.";
                            break;
                        default:
                            // Fallback for unknown errors, strips away the ugly "Firebase:" text
                            errorMsg = error.message.replace('Firebase:', '').trim();
                    }

                    showToast(errorMsg, "error");
                } finally {
                    // Hide Spinner
                    btnText.classList.remove('opacity-0');
                    spinner.classList.add('hidden');
                    submitBtn.disabled = false;
                }
            });
        }

        // --- FORGOT PASSWORD WITH SPINNER ---
        const forgotPasswordForm = document.getElementById('forgotPasswordForm');
        if (forgotPasswordForm) {
            forgotPasswordForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const email = document.getElementById('resetEmail').value.trim();
                const btnText = document.getElementById('resetBtnText');
                const spinner = document.getElementById('resetSpinner');
                const submitBtn = document.getElementById('resetSubmitBtn');

                if (!auth) { showToast("System configuration error.", "error"); return; }

                // Show Spinner
                btnText.classList.add('opacity-0');
                spinner.classList.remove('hidden');
                submitBtn.disabled = true;

                try {
                    await sendPasswordResetEmail(auth, email);
                    // Updated message to be more accurate regarding Firebase's security behavior
                    showToast("If this email is registered, a reset link was sent. Check your Spam folder!", "success");

                    switchModal('forgotPasswordModal', 'loginModal');
                    document.getElementById('loginEmail').value = email;
                    document.getElementById('forgotPasswordForm').reset();
                } catch (error) {
                    let errorMsg = "Failed to send reset link.";
                    if (error.code === 'auth/user-not-found') {
                        errorMsg = "No account found with this email address.";
                    } else if (error.code === 'auth/invalid-email') {
                        errorMsg = "Please enter a valid email address.";
                    } else if (error.code === 'auth/too-many-requests') {
                        errorMsg = "Too many requests. Please try again later.";
                    }
                    showToast(errorMsg, "error");
                } finally {
                    // Hide Spinner
                    btnText.classList.remove('opacity-0');
                    spinner.classList.add('hidden');
                    submitBtn.disabled = false;
                }
            });
        }

        // --- GOOGLE LOGIN LOGIC (FIXED) ---
        const handleGoogleLogin = async () => {
            if (!auth) { showToast("Firebase not configured."); return; }
            try {
                // FIXED: Force the Google popup to ask which account to use every time
                provider.setCustomParameters({
                    prompt: 'select_account'
                });

                await signInWithPopup(auth, provider);
                // Success is handled by onAuthStateChanged above
                showToast("Welcome! Signed in with Google securely.", "success");
            } catch (error) {
                showToast("Google Sign-In was cancelled or failed.", "error");
            }
        };

        // Attach to Buttons
        const googleLoginBtn = document.getElementById('googleLoginBtn');
        const googleSignupBtn = document.getElementById('googleSignupBtn');

        if (googleLoginBtn) googleLoginBtn.addEventListener('click', handleGoogleLogin);
        if (googleSignupBtn) googleSignupBtn.addEventListener('click', handleGoogleLogin);

        // --- EDIT PROFILE LOGIC ---
        
        // 1. Function to open the modal and pre-fill data
        window.openEditProfile = function() {
            if (!auth || !auth.currentUser) return;
            
            // Pre-fill the inputs with current user data
            document.getElementById('editFullName').value = auth.currentUser.displayName || '';
            document.getElementById('editEmail').value = auth.currentUser.email || '';
            
            // Open the modal (it will appear over the sidebar due to z-[300])
            openModal('editProfileModal');
        };

        // 2. Handle the Form Submission
        const editProfileForm = document.getElementById('editProfileForm');
        if (editProfileForm) {
            editProfileForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const newName = document.getElementById('editFullName').value.trim();
                const btnText = document.getElementById('editBtnText');
                const spinner = document.getElementById('editSpinner');
                const submitBtn = document.getElementById('editSubmitBtn');

                if (!auth || !auth.currentUser) return;

                // Show Loading Spinner
                btnText.classList.add('opacity-0');
                spinner.classList.remove('hidden');
                submitBtn.disabled = true;

                try {
                    // Generate a new Avatar URL based on the new name
                    const newAvatarUrl = `https://ui-avatars.com/api/?name=${encodeURIComponent(newName)}&background=2563eb&color=fff`;

                    // Push updates to Firebase
                    await updateProfile(auth.currentUser, {
                        displayName: newName,
                        photoURL: newAvatarUrl
                    });

                    // Force the UI to refresh with the new data
                    window.updateAuthState(auth.currentUser);
                    
                    showToast("Profile updated successfully!", "success");
                    closeModal('editProfileModal');

                } catch (error) {
                    showToast("Failed to update profile: " + error.message.replace('Firebase:', ''), "error");
                } finally {
                    // Hide Loading Spinner
                    btnText.classList.remove('opacity-0');
                    spinner.classList.add('hidden');
                    submitBtn.disabled = false;
                }
            });
        }
    </script>

    <!-- <script type="module" src="script.js"></script> -->
</body>

</html>
